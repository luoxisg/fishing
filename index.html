<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hook & Cook Interactive Fishing Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Chosen Palette: Game-inspired (Darker, vibrant, high contrast) */
        /* Application Structure Plan: A single-page application with a fixed bottom navigation bar for mobile and a top navigation for desktop. The content is divided into four thematic sections: 1. Home (now with Meet the Fish at the very top) - A welcoming introduction with interactive fish gallery and chart. 2. The Science of Fishing - Accordion-style sections for fish senses and an interactive bait recommender. 3. Quiz - An interactive multiple-choice quiz. 4. Pro Tips - Accordion-style practical advice. This structure is chosen to transform a linear document into an exploratory, engaging experience, guiding the user from basic concepts to advanced knowledge in a non-linear way, which is more suitable for a web application and a younger audience, with a strong focus on one-hand mobile operation. */
        /* Visualization & Content Choices:
            - Home (now includes Meet the Fish): Goal: Inform/Engage/Compare. Method: Textual introduction, HTML/CSS cards for each fish. Interaction: Clicking cards reveals detailed modal pop-ups. Justification: Consolidates key introductory and exploratory content for immediate engagement.
            - The Science of Fishing: Goal: Explain/Organize. Method: Accordion-style collapsible sections for Vision, Chemoreception, and Lateral Line. An interactive HTML/JS 'Bait Recommender' tool. Interaction: Users click accordion headers to expand/collapse content. Users select a fish to get bait recommendations. Justification: Accordions improve mobile usability by reducing vertical scroll and allowing focused content consumption.
            - Pro Tips: Goal: Inform/Organize. Method: Accordion-style HTML/CSS lists for checklists and best practices. Interaction: Clicking to expand/collapse sections. Justification: Accordions are excellent for presenting lists of information in a compact way.
            - Quiz: Goal: Assess/Engage. Method: Multiple-choice questions with HTML/CSS and Vanilla JS for logic. Interaction: Users select answers (with visual feedback), get immediate feedback, and a final score (with correct/incorrect indicators). Justification: Reinforces learning and provides an engaging way to test understanding with clear visual cues.
            - Library/Method: Tailwind CSS for responsive layout and styling, Chart.js (still included for potential future use, but not actively used for radar chart), and Vanilla JavaScript for all interactions (navigation, modals, accordions, recommender, quiz). */
        /* CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. */

        :root {
            --bg-main: #0A0A1A; /* æ›´æ·±çš„æ·±è“/ç´«è‰²ï¼Œæ¥è¿‘çº¯é»‘ */
            --bg-secondary: #1A2A3A; /* æ·±ç°è“ï¼Œä½œä¸ºæ¨¡å—èƒŒæ™¯ */
            --text-primary: #F5F5F5; /* äº®ç™½è‰²ï¼Œé«˜å¯¹æ¯”åº¦ä¸»æ–‡æœ¬ */
            --text-secondary: #A0A0A0; /* æŸ”å’Œçš„ç°è‰²ï¼Œè¾…åŠ©æ–‡æœ¬ */
            --accent: #FF4500; /* é²œè‰³çš„æ©™çº¢è‰²ï¼Œå¼ºè°ƒè‰² */
            --accent-dark: #CC3700; /* æ›´æ·±çš„æ©™çº¢è‰² */
            --highlight: #FFD700; /* é‡‘è‰²ï¼Œçªå‡ºæ˜¾ç¤º */
            --border-color: #3A3A4A; /* æ¨¡å—è¾¹æ¡†é¢œè‰² */
            --hover-bg: #2A3A4A; /* æ‚¬åœèƒŒæ™¯è‰² */

            /* New variables for light backgrounds */
            --text-primary-dark: #2C3E50; /* Dark blue-grey for light backgrounds */
            --text-secondary-dark: #5D6D7E; /* Medium grey-blue for light backgrounds */
            --border-color-light: #D1D5DB; /* Light grey border for light backgrounds */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-primary);
            padding-bottom: 60px; /* Space for fixed bottom nav on mobile */
        }
        @media (min-width: 768px) {
            body {
                padding-bottom: 0; /* No padding on desktop */
            }
        }

        .nav-link {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            background-color: var(--bg-secondary);
            border-left-color: var(--accent-dark);
            color: var(--text-primary);
        }
        .card {
            background-color: var(--bg-secondary); /* Cards now use secondary background */
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease; /* Added background-color for smooth transition */
            border-radius: 8px; /* Slightly rounded corners for blocky feel */
            color: var(--text-primary); /* Ensure text color is primary */
            border: 1px solid var(--border-color); /* Added border */
        }
        .card:hover {
            transform: translateY(-5px) scale(1.02); /* Slight scale up on hover */
            box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.4), 0 6px 10px -3px rgba(0, 0, 0, 0.3); /* Darker, more pronounced shadows */
            background-color: var(--hover-bg); /* Darker secondary on hover */
        }
        .tab.active {
            border-bottom-color: var(--accent-dark);
            background-color: var(--bg-secondary);
        }
        /* Accordion-style tabs for Science section */
        .science-accordion-item {
            border-radius: 8px;
            overflow: hidden; /* Ensures content doesn't spill out during transition */
        }
        .science-accordion-header {
            @apply w-full text-left p-4 flex justify-between items-center font-medium text-lg rounded-md;
            background-color: var(--bg-secondary); /* Use secondary background */
            color: var(--text-primary); /* Ensure text color is primary */
            transition: background-color 0.3s ease;
            border: 1px solid var(--border-color); /* Added border */
            border-radius: 8px; /* Apply border-radius to header */
        }
        .science-accordion-header:hover {
            background-color: var(--hover-bg); /* Slightly lighter secondary on hover */
        }
        .science-accordion-header.active {
            background-color: var(--accent);
            color: white;
            border-color: var(--accent);
            border-radius: 8px 8px 0 0; /* Rounded top, sharp bottom when active */
        }
        .science-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
            background-color: var(--bg-secondary); /* Content uses secondary background */
            color: var(--text-secondary); /* Content text is secondary */
            padding: 0 1rem; /* Adjust padding for collapsed state */
            border-left: 1px solid var(--border-color);
            border-right: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            border-radius: 0 0 8px 8px; /* Rounded bottom only */
        }
        .science-accordion-content.expanded {
            max-height: 9999px; /* Allow content to fully expand */
            overflow-y: auto; /* Enable scrolling within the accordion if content is too long */
            padding: 1rem; /* Padding for expanded state */
        }


        .accordion-content { /* General accordion for Pro Tips */
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
            background-color: var(--bg-secondary); /* Content uses secondary background */
            color: var(--text-secondary); /* Content text is secondary */
            border-left: 1px solid var(--border-color);
            border-right: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            border-radius: 0 0 8px 8px;
        }
        .accordion-content.expanded { /* Added expanded class for general accordion */
            max-height: 9999px; /* Allow content to fully expand */
            overflow-y: auto; /* Enable scrolling within the accordion if content is too long */
            padding: 1rem; /* Padding for expanded state */
        }
        .modal-backdrop {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
            background-color: var(--bg-secondary); /* Modal uses secondary background */
            color: var(--text-primary); /* Modal text is primary */
            border: 1px solid var(--border-color);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 550px; /* Adjusted max-width for better fit */
            margin-left: auto;
            margin-right: auto;
            height: auto; /* Let aspect ratio control height */
            aspect-ratio: 1 / 1; /* Make it square for a nice radar chart */
        }
        @media (min-width: 768px) {
            .chart-container {
                max-width: 450px; /* Slightly smaller on desktop for better layout */
            }
        }

        /* Language Switcher Button Styling */
        .lang-button {
            @apply px-3 py-1 rounded-md text-sm font-medium transition-colors duration-300;
            background-color: var(--bg-secondary); /* Use secondary background */
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }
        .lang-button.active {
            background-color: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        .lang-button:hover:not(.active) {
            background-color: var(--hover-bg); /* Slightly lighter dark grey on hover */
        }

        /* Quiz styles */
        .quiz-option {
            @apply p-3 border rounded-md cursor-pointer transition-colors duration-200 flex items-center justify-between;
            background-color: var(--bg-main); /* Options use main background */
            border-color: var(--border-color); /* Darker border */
            color: var(--text-primary);
        }
        .quiz-option:hover {
            background-color: var(--hover-bg); /* Darker hover for options */
        }
        .quiz-option.selected { /* Added selected state */
            background-color: #3A4A5A; /* A darker blue that stands out on main bg */
            border-color: var(--accent);
        }
        .quiz-option.correct {
            background-color: #28A745; /* Green */
            border-color: #1A7A34; /* Darker Green */
            color: white;
        }
        .quiz-option.incorrect {
            background-color: #DC3545; /* Red */
            border-color: #A02833; /* Darker Red */
            color: white;
        }

        /* Fixed Bottom Navigation for Mobile */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--bg-secondary); /* Use secondary background */
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 60px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.5); /* Stronger shadow */
            z-index: 1000;
            border-top: 1px solid var(--border-color);
        }
        .bottom-nav-item {
            @apply flex flex-col items-center justify-center text-xs font-medium text-[var(--text-secondary)] transition-colors duration-200;
            flex: 1;
            height: 100%;
        }
        .bottom-nav-item.active {
            color: var(--highlight); /* Highlight color for active */
        }
        .bottom-nav-item:hover {
            background-color: var(--hover-bg); /* Darker secondary on hover */
        }
        .bottom-nav-item svg {
            width: 24px;
            height: 24px;
            margin-bottom: 2px;
        }

        /* Hide desktop sidebar and top header on mobile, and vice-versa */
        @media (max-width: 767px) {
            aside { display: none !important; }
            header.md\:hidden { display: flex !important; }
            .bottom-nav { display: flex; }
        }
        @media (min-width: 768px) {
            aside { display: flex !important; }
            header.md\:hidden { display: none !important; }
            .bottom-nav { display: none; }
        }

        /* Ripple Effect for Mobile Touch */
        .ripple {
            position: absolute;
            border-radius: 50%;
            transform: scale(0);
            animation: ripple-effect 0.8s ease-out;
            background-color: rgba(255, 255, 255, 0.4); /* Semi-transparent white for the ripple */
            pointer-events: none; /* Make sure it doesn't interfere with clicks */
            z-index: 9999; /* Ensure it's on top */
        }

        @keyframes ripple-effect {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="flex h-screen bg-[var(--bg-main)]">
        <!-- Sidebar Navigation (Desktop) -->
        <aside class="hidden md:flex flex-col w-64 bg-white shadow-lg">
            <div class="p-4 border-b border-gray-200 flex items-center justify-center bg-[var(--bg-secondary)]">
                <div id="language-switcher-desktop" class="flex space-x-2">
                    <button class="lang-button" data-lang="en">EN</button>
                    <button class="lang-button" data-lang="zh">ä¸­</button>
                    <button class="lang-button" data-lang="ml">BM</button>
                </div>
            </div>
            <div class="flex items-center justify-center h-20 shadow-md bg-[var(--bg-secondary)]">
                <h1 class="text-xl font-bold text-[var(--text-primary)]" data-lang-key="sidebarTitle">ğŸ£ é’“é±¼æŒ‡å—</h1>
            </div>
            <nav class="flex-1 px-2 py-4 space-y-2">
                <a href="#home" class="nav-link flex items-center px-4 py-2 text-lg font-medium text-[var(--text-secondary)] rounded-md" data-lang-key="navHome">é¦–é¡µ</a>
                <a href="#science" class="nav-link flex items-center px-4 py-2 text-lg font-medium text-[var(--text-secondary)] rounded-md" data-lang-key="navScience">ç§‘å­¦</a>
                <a href="#quiz" class="nav-link flex items-center px-4 py-2 text-lg font-medium text-[var(--text-secondary)] rounded-md" data-lang-key="navQuiz">æµ‹éªŒ</a>
                <a href="#pro-tips" class="nav-link flex items-center px-4 py-2 text-lg font-medium text-[var(--text-secondary)] rounded-md" data-lang-key="navProTips">ç§˜ç±</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
             <!-- Top Header (Mobile Only) -->
            <header class="md:hidden flex items-center bg-white p-4 shadow-md">
                <!-- Language Switcher on the left -->
                <div class="flex-shrink-0 mr-4">
                    <div id="language-switcher-mobile" class="flex space-x-2">
                        <button class="lang-button" data-lang="en">EN</button>
                        <button class="lang-button" data-lang="zh">ä¸­</button>
                        <button class="lang-button" data-lang="ml">BM</button>
                    </div>
                </div>
                <!-- Title on the right (no mobile menu button needed as bottom nav is primary) -->
                <div class="flex-1 flex justify-end items-center">
                    <h1 class="text-xl font-bold text-[var(--text-primary)]" data-lang-key="sidebarTitle">ğŸ£ é’“é±¼æŒ‡å—</h1>
                </div>
            </header>

            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-[var(--bg-main)] p-4 sm:p-6 md:p-8">
                <!-- Home Section (now includes Meet the Fish) -->
                <section id="home" class="content-section">
                    <div class="bg-[var(--bg-secondary)] rounded-lg shadow p-8 text-center mb-8">
                        <h2 class="text-4xl font-bold text-[var(--text-primary)] mb-4" data-lang-key="homeTitle">æ¬¢è¿æ¥åˆ°â€œé’“è·çƒ¹é¥ªâ€æ¢é™©ä¹‹æ—…ï¼</h2>
                        <p class="text-lg text-[var(--text-secondary)] leading-relaxed max-w-3xl mx-auto" data-lang-key="homeIntro">
                            â€œé’“è·çƒ¹é¥ªâ€(Hook & Cook) æ¸”åœºæä¾›äº†ä¸€ç§ç‹¬ç‰¹çš„ä½“éªŒï¼šäº²æ‰‹é’“èµ·é±¼ï¼Œç„¶åç«‹å³åœ¨ç°åœºé¤å…äº«ç”¨æ–°é²œçƒ¹åˆ¶çš„æ¸”è·ã€‚è¿™ä¸ä»…æ˜¯å‚é’“çš„ä¹è¶£ï¼Œæ›´æ˜¯è¿åŠ¨ã€è‡ªç„¶ä¸ç¾é£Ÿçš„å®Œç¾ç»“åˆã€‚æœ¬æŒ‡å—å°†å¸¦ä½ æ·±å…¥æ¢ç´¢é±¼ç±»ç”Ÿç‰©å­¦çš„å¥¥ç§˜ï¼Œä»äº†è§£é±¼çš„æ„Ÿå®˜åˆ°ç§‘å­¦é€‰æ‹©é¥µæ–™ï¼Œè®©ä½ ä»æ™®é€šå‚é’“è€…æˆé•¿ä¸ºä¸€åå¯¹æ°´ç”Ÿç”Ÿç‰©æœ‰æ·±å…¥ç†è§£çš„â€œå‚é’“ç§‘å­¦å®¶â€ã€‚å‡†å¤‡å¥½å¼€å§‹ä½ çš„æ¢é™©äº†å—ï¼Ÿ
                        </p>
                        <!-- Ripple Hint for Mobile -->
                        <p class="md:hidden text-sm text-[var(--highlight)] mt-6 animate-pulse" data-lang-key="rippleHint">è½»ç‚¹èƒŒæ™¯ï¼Œæœ‰æƒŠå–œï¼</p>
                    </div>

                    <!-- Meet the Fish content moved here -->
                    <div class="bg-[var(--bg-secondary)] rounded-lg shadow p-8 mb-8">
                        <h2 class="text-4xl font-bold text-center text-[var(--text-primary)] mb-8" data-lang-key="fishSpeciesTitle">è®¤è¯†é±¼å„¿ï¼šé©¬æ¥è¥¿äºšæ¸”åœºå¸¸è§å±…æ°‘</h2>
                        <p class="text-lg text-center text-[var(--text-secondary)] max-w-3xl mx-auto mb-12" data-lang-key="fishSpeciesIntro">é©¬æ¥è¥¿äºšçš„ä¼‘é—²æ¸”åœºæ‹¥æœ‰å¤šç§é±¼ç±»ã€‚äº†è§£å®ƒä»¬çš„ç”Ÿç‰©ç‰¹æ€§æ˜¯æˆåŠŸå‚é’“çš„å…³é”®ã€‚ç‚¹å‡»ä¸‹æ–¹çš„å¡ç‰‡ï¼ŒæŸ¥çœ‹æ¯ç§é±¼çš„è¯¦ç»†æ¡£æ¡ˆã€‚</p>
                        <div id="fish-gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            <!-- Fish cards will be injected here by JS -->
                        </div>
                        <div class="mt-12 bg-white rounded-lg shadow p-8"> <!-- Changed to bg-white -->
                            <h3 class="text-2xl font-bold text-center mb-2 text-[var(--text-primary-dark)]" data-lang-key="fishComparisonTitle">é±¼ç±»ç‰¹æ€§å¯¹æ¯”</h3>
                            <p class="text-md text-center text-[var(--text-secondary-dark)] mb-2" data-lang-key="fishComparisonIntro">é€šè¿‡è¿™ä¸ªé›·è¾¾å›¾ï¼Œç›´è§‚åœ°æ¯”è¾ƒä¸åŒé±¼ç±»çš„å…³é”®ç‰¹æ€§ã€‚</p>
                            <!-- OPTIMIZATION: Added subtitle for chart scale explanation -->
                            <p class="text-xs text-center text-[var(--text-secondary-dark)] mb-4" data-lang-key="fishComparisonSubtitle"></p>
                            <div class="chart-container">
                                <canvas id="fish-chart"></canvas>
                            </div>
                        </div>
                    </div>

                     <div class="mt-8 bg-[var(--bg-secondary)] rounded-lg shadow p-8">
                        <h3 class="text-2xl font-bold text-center mb-6" data-lang-key="whatIsHookCookTitle">ä»€ä¹ˆæ˜¯â€œé’“è·çƒ¹é¥ªâ€æ¸”åœºï¼Ÿ</h3>
                        <div class="grid md:grid-cols-2 gap-8 text-[var(--text-secondary)] leading-relaxed">
                            <div>
                                <h4 class="font-bold text-lg text-[var(--text-primary)] mb-2" data-lang-key="uniqueExperienceTitle">ç‹¬ç‰¹çš„ä¼‘é—²ä½“éªŒ</h4>
                                <p data-lang-key="uniqueExperienceText">è¿™äº›æ¸”åœºæ˜¯ä¸“ä¸ºä¼‘é—²å‚é’“è®¾è®¡çš„åœºæ‰€ï¼Œé€šå¸¸ç”±åºŸå¼ƒçš„å…»é±¼åœºæ”¹é€ æˆ–ä¸“é—¨å»ºé€ ã€‚åœ¨è¿™é‡Œï¼Œæ¸¸å®¢å¯ä»¥ä½“éªŒå‚é’“çš„ä¹è¶£ï¼Œå¹¶å°†æ¸”è·äº¤ç»™é¤å…çƒ¹é¥ªï¼Œå®ç°â€œä»é’“åˆ°åƒâ€çš„ä¸€ç«™å¼æœåŠ¡ï¼Œä¸ºå®¶åº­å’Œåˆå­¦è€…æä¾›äº†ç†æƒ³çš„å‚é’“ç¯å¢ƒã€‚</p>
                            </div>
                            <div>
                                <h4 class="font-bold text-lg text-[var(--text-primary)] mb-2" data-lang-key="typicalEnvironmentTitle">å…¸å‹çš„æ¸”åœºç¯å¢ƒ</h4>
                                <p data-lang-key="typicalEnvironmentText">é©¬æ¥è¥¿äºšçš„â€œé’“è·çƒ¹é¥ªâ€æ¸”åœºå¤šä¸ºæ·¡æ°´ç¯å¢ƒï¼Œé£å…‰ç§€ä¸½ï¼Œå®é™å®œäººã€‚éƒ¨åˆ†æ¸”åœºä¹Ÿæä¾›å’¸æ·¡æ°´ç¯å¢ƒï¼Œé¥²å…»ç€å°–å»é²ˆã€çŸ³æ–‘é±¼ç­‰é±¼ç±»ã€‚è¿™äº›åœ°æ–¹é€šå¸¸è®¾æ–½å®Œå–„ï¼Œé…æœ‰é¤å…ã€æ¸”å…·åº—å’Œèˆ’é€‚çš„å‚é’“å°å±‹ã€‚</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Science of Fishing Section (now with accordions) -->
                <section id="science" class="content-section hidden">
                    <h2 class="text-4xl font-bold text-center text-[var(--text-primary)] mb-8" data-lang-key="scienceTitle">ç§‘å­¦é’“æ³•ï¼šè§£å¯†é±¼å„¿çš„è§…é£Ÿè¡Œä¸º</h2>
                    <p class="text-lg text-center text-[var(--text-secondary)] max-w-3xl mx-auto mb-12" data-lang-key="scienceIntro">é±¼ç±»æ‹¥æœ‰é«˜åº¦å‘è¾¾çš„æ„Ÿå®˜ç³»ç»Ÿã€‚äº†è§£å®ƒä»¬å¦‚ä½•æ„ŸçŸ¥ä¸–ç•Œï¼Œä½ å°±èƒ½åƒç§‘å­¦å®¶ä¸€æ ·é€‰æ‹©æœ€æœ‰æ•ˆçš„ç­–ç•¥å’Œé¥µæ–™ã€‚</p>
                    <div class="space-y-4">
                        <div class="science-accordion-item bg-[var(--bg-secondary)] rounded-lg shadow">
                            <button class="science-accordion-header" data-tab="vision" data-lang-key="tabVision">ğŸ‘ï¸ è§†è§‰ï¼šæ°´ä¸‹ä¹‹çœ¼</button>
                            <div class="science-accordion-content" id="science-vision-content"></div>
                        </div>
                        <div class="science-accordion-item bg-[var(--bg-secondary)] rounded-lg shadow">
                            <button class="science-accordion-header" data-tab="chemo" data-lang-key="tabChemo">ğŸ‘ƒ å‘³è§‰ä¸å—…è§‰</button>
                            <div class="science-accordion-content" id="science-chemo-content"></div>
                        </div>
                        <div class="science-accordion-item bg-[var(--bg-secondary)] rounded-lg shadow">
                            <button class="science-accordion-header" data-tab="lateral" data-lang-key="tabLateral">ã€°ï¸ ä¾§çº¿ï¼šç¬¬å…­æ„Ÿ</button>
                            <div class="science-accordion-content" id="science-lateral-content"></div>
                        </div>
                    </div>

                    <div class="mt-12 bg-[var(--bg-secondary)] rounded-lg shadow p-8">
                         <h3 class="text-2xl font-bold text-center mb-6" data-lang-key="baitRecommenderTitle">äº’åŠ¨å¼é¥µæ–™æ¨èå™¨</h3>
                         <p class="text-md text-center text-[var(--text-secondary)] mb-6" data-lang-key="baitRecommenderIntro">ä¸çŸ¥é“ç”¨ä»€ä¹ˆé¥µæ–™ï¼Ÿé€‰æ‹©ä½ æƒ³è¦é’“çš„ç›®æ ‡é±¼ç§ï¼Œè®©æˆ‘æ¥ä¸ºä½ æ¨èï¼</p>
                         <div class="flex flex-col items-center space-y-4">
                            <select id="fish-selector" class="p-2 border rounded-md bg-[var(--bg-main)] w-full max-w-xs text-[var(--text-primary)]">
                                <!-- Options will be injected by JS -->
                            </select>
                            <div id="bait-recommendation" class="mt-4 p-4 bg-[var(--bg-main)] rounded-lg text-center w-full max-w-md min-h-[80px]">
                                <p class="text-[var(--text-secondary)]" data-lang-key="selectFishPrompt">è¯·å…ˆé€‰æ‹©ä¸€ç§é±¼...</p>
                            </div>
                         </div>
                    </div>
                </section>

                <!-- Quiz Section -->
                <section id="quiz" class="content-section hidden">
                    <h2 class="text-4xl font-bold text-center text-[var(--text-primary)] mb-8" data-lang-key="quizTitle">çŸ¥è¯†æµ‹éªŒï¼šè€ƒéªŒä½ çš„å‚é’“æ™ºæ…§ï¼</h2>
                    <p class="text-lg text-center text-[var(--text-secondary)] max-w-3xl mx-auto mb-12" data-lang-key="quizIntro">è®©æˆ‘ä»¬çœ‹çœ‹ä½ å­¦åˆ°äº†å¤šå°‘é±¼ç±»ç”Ÿç‰©å­¦å’Œè´Ÿè´£ä»»å‚é’“çš„çŸ¥è¯†ã€‚ç¥ä½ å¥½è¿ï¼</p>
                    <div id="quiz-container" class="bg-[var(--bg-secondary)] rounded-lg shadow p-8 max-w-2xl mx-auto">
                        <!-- Quiz questions will be injected here by JS -->
                        <div id="quiz-questions"></div>
                        <button id="submit-quiz" class="mt-8 w-full bg-[var(--accent)] text-white font-bold py-3 px-6 rounded-md hover:bg-[var(--accent-dark)] transition-colors duration-300" data-lang-key="submitQuiz">æäº¤æµ‹éªŒ</button>
                        <div id="quiz-results" class="mt-4 text-center text-xl font-bold hidden"></div>
                    </div>
                </section>

                <!-- Pro Tips Section -->
                <section id="pro-tips" class="content-section hidden">
                    <h2 class="text-4xl font-bold text-center text-[var(--text-primary)] mb-8" data-lang-key="proTipsTitle">é«˜æ‰‹ç§˜ç±ï¼šæˆä¸ºè´Ÿè´£ä»»çš„å‚é’“è€…</h2>
                     <p class="text-lg text-center text-[var(--text-secondary)] max-w-3xl mx-auto mb-12" data-lang-key="proTipsIntro">å‚é’“ä¸ä»…æ˜¯æŠ€å·§ï¼Œæ›´æ˜¯ä¸€ä»½è´£ä»»ã€‚éµå¾ªè¿™äº›å»ºè®®ï¼Œäº«å—ä¹è¶£çš„åŒæ—¶ï¼Œä¹Ÿä¿æŠ¤æˆ‘ä»¬çè´µçš„æ°´ç”Ÿèµ„æºã€‚</p>
                    <div class="space-y-6 max-w-4xl mx-auto">
                        <div class="accordion-item bg-[var(--bg-secondary)] rounded-lg shadow">
                            <button class="accordion-header w-full text-left p-6 flex justify-between items-center">
                                <span class="text-xl font-semibold text-[var(--text-primary)]" data-lang-key="onSiteProcessTitle">ğŸ“ ç°åœºæµç¨‹ä¸å»ºè®®æºå¸¦</span>
                                <span class="text-2xl transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content px-6 text-[var(--text-secondary)]">
                                <div class="py-4 border-t border-[var(--border-color)]">
                                    <h4 class="font-bold text-lg mb-2 text-[var(--text-primary)]" data-lang-key="suggestedProcessTitle">å»ºè®®æµç¨‹</h4>
                                    <ol class="list-decimal list-inside space-y-1">
                                        <li data-lang-key="process1">åˆ°å‰å°ç™»è®°ï¼Œè¯´æ˜æ˜¯åˆæ¬¡ä½“éªŒï¼Œå¯ç§Ÿç”¨é’“ç«¿ã€‚</li>
                                        <li data-lang-key="process2">å‘Šè¯‰å·¥ä½œäººå‘˜æœ‰å°å­©ï¼Œä»–ä»¬ä¼šå®‰æ’é€‚åˆçš„æ°´æ± ã€‚</li>
                                        <li data-lang-key="process3">é’“é±¼1â€“2å°æ—¶ï¼ˆé±¼é¥µç”¨å®Œå¯ç»­ä¹°ï¼‰ã€‚</li>
                                        <li data-lang-key="process4">é’“åˆ°çš„é±¼è‹¥æƒ³åƒï¼Œå¯è¯·å¨æˆ¿ä»£ä¸ºçƒ¹é¥ªï¼ˆæˆ–æ‰“åŒ…ï¼‰ã€‚</li>
                                    </ol>
                                    <h4 class="font-bold text-lg mt-4 mb-2 text-[var(--text-primary)]" data-lang-key="whatToBringTitle">å»ºè®®æºå¸¦</h4>
                                     <ul class="list-disc list-inside space-y-1">
                                        <li data-lang-key="bring1">é˜²æ™’å¸½ / é›¨ä¼ï¼ˆè‹¥å¤©æ°”ç‚çƒ­æˆ–é˜µé›¨ï¼‰ã€‚</li>
                                        <li data-lang-key="bring2">é©±èšŠæ¶²ã€‚</li>
                                        <li data-lang-key="bring3">æ‰‹æœºå……ç”µå®ï¼ˆæ‹ç…§ + å¯¼èˆªï¼‰ã€‚</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                         <div class="accordion-item bg-[var(--bg-secondary)] rounded-lg shadow">
                            <button class="accordion-header w-full text-left p-6 flex justify-between items-center">
                                <span class="text-xl font-semibold text-[var(--text-primary)]" data-lang-key="catchReleaseTitle">ğŸ’š â€œé’“åæ”¾æµâ€æœ€ä½³å®è·µ</span>
                                <span class="text-2xl transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content px-6 text-[var(--text-secondary)]">
                                <div class="py-4 border-t border-[var(--border-color)] space-y-3">
                                   <p data-lang-key="releaseIntro">å¦‚æœä½ é€‰æ‹©æ”¾æµï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼Œä»¥ç¡®ä¿é±¼å„¿èƒ½å¥åº·åœ°å›åˆ°æ°´ä¸­ã€‚</p>
                                   <p><strong class="text-[var(--text-primary)]" data-lang-key="reduceAirExposureStrong">å‡å°‘ç©ºæ°”æš´éœ²ï¼š</strong> <span data-lang-key="reduceAirExposureText">å°½é‡å°†é±¼ç¦»å¼€æ°´é¢çš„æ—¶é—´æ§åˆ¶åœ¨10ç§’å†…ã€‚é±¼é æ°´è·å–æ°§æ°”ï¼</span></p>
                                   <p><strong class="text-[var(--text-primary)]" data-lang-key="wetHandsStrong">æ¹¿æ‰‹æ“ä½œï¼š</strong> <span data-lang-key="wetHandsText">æ¥è§¦é±¼å‰åŠ¡å¿…å¼„æ¹¿åŒæ‰‹ï¼Œä¿æŠ¤é±¼ä½“è¡¨çš„ä¿æŠ¤æ€§é»æ¶²ã€‚</span></p>
                                   <p><strong class="text-[var(--text-primary)]" data-lang-key="properSupportStrong">æ­£ç¡®æ”¯æ’‘ï¼š</strong> <span data-lang-key="properSupportText">ç”¨åŒæ‰‹æ°´å¹³æ”¯æ’‘é±¼çš„èº«ä½“ï¼Œåˆ‡å‹¿æŠ“å…¶é³ƒæˆ–ä¸‹é¢šã€‚</span></p>
                                   <p><strong class="text-[var(--text-primary)]" data-lang-key="quickUnhookStrong">å¿«é€Ÿæ‘˜é’©ï¼š</strong> <span data-lang-key="quickUnhookText">æ¨èä½¿ç”¨æ— å€’åˆºé’©å’Œæ‘˜é’©å·¥å…·ã€‚å¦‚æœé’©å¾—å¤ªæ·±ï¼Œå‰ªæ–­é±¼çº¿æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</span></p>
                                   <p><strong class="text-[var(--text-primary)]" data-lang-key="gentleReleaseStrong">æ¸©æŸ”æ”¾æµï¼š</strong> <span data-lang-key="gentleReleaseText">å°†é±¼å¤´æœå‰è½»è½»æ”¾å…¥æ°´ä¸­ï¼Œè®©æ°´æµè¿‡å®ƒçš„é³ƒã€‚</span></p>
                                </div>
                            </div>
                        </div>

                         <div class="accordion-item bg-[var(--bg-secondary)] rounded-lg shadow">
                            <button class="accordion-header w-full text-left p-6 flex justify-between items-center">
                                <span class="text-xl font-semibold text-[var(--text-primary)]" data-lang-key="environmentalResponsibilityTitle">ğŸŒ å‚é’“è€…çš„ç¯ä¿è´£ä»»</span>
                                <span class="text-2xl transform transition-transform duration-300">+</span>
                            </button>
                            <div class="accordion-content px-6 text-[var(--text-secondary)]">
                                <div class="py-4 border-t border-[var(--border-color)] space-y-3">
                                   <p data-lang-key="environmentalResponsibilityText1">å‘å±•â€œå‚é’“è€…é“å¾·â€æ˜¯ä¿æŠ¤å·¥ä½œçš„é‡è¦éƒ¨åˆ†ã€‚é€šè¿‡é‡‡çº³æœ€ä½³å®è·µï¼Œå³ä½¿åœ¨å…»æ®–æ± å¡˜ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ä¸ºé±¼ç±»ç§ç¾¤çš„å¥åº·å’Œæ¢å¤åŠ›åšå‡ºè´¡çŒ®ã€‚è¿™åŸ¹å…»äº†ä¸€ç§ç®¡ç†å’Œè´£ä»»æ„Ÿï¼Œå°†ä¸€é¡¹çˆ±å¥½è½¬å˜ä¸ºç§¯æçš„ç¯å¢ƒä¿æŠ¤å½¢å¼ã€‚</p>
                                   <p data-lang-key="environmentalResponsibilityText2">ä½ ç”šè‡³å¯ä»¥æˆä¸ºä¸€åâ€œå…¬æ°‘ç§‘å­¦å®¶â€ï¼é€šè¿‡æŠ¥å‘Šä½ çš„æ¸”è·ã€å°ºå¯¸ç­‰è§‚å¯Ÿç»“æœï¼Œå¯ä»¥å¸®åŠ©ç®¡ç†äººå‘˜æ›´å¥½åœ°äº†è§£é±¼å¡˜çš„å¥åº·çŠ¶å†µã€‚ä½ ä¸ä»…ä»…æ˜¯å‚ä¸è€…ï¼Œæ›´æ˜¯ç§‘å­¦å’Œä¿æŠ¤å·¥ä½œçš„è´¡çŒ®è€…ï¼</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>

            </main>
        </div>
    </div>

    <!-- Fixed Bottom Navigation for Mobile -->
    <nav class="bottom-nav md:hidden">
        <a href="#home" class="bottom-nav-item active" data-nav-section="home">
            <svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
            <span data-lang-key="navHome">é¦–é¡µ</span>
        </a>
        <a href="#science" class="bottom-nav-item" data-nav-section="science">
            <!-- Using a beaker icon for science -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5.5 22h13c.8 0 1.5-.7 1.5-1.5v-13c0-.8-.7-1.5-1.5-1.5h-13c-.8 0-1.5.7-1.5 1.5v13c0 .8.7 1.5 1.5 1.5z"/><path d="M4 6h16"/><path d="M10 2v4"/><path d="M14 2v4"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/><path d="M8 16h.01"/><path d="M12 16h.01"/><path d="M16 16h.01"/></svg>
            <span data-lang-key="navScience">ç§‘å­¦</span>
        </a>
        <a href="#quiz" class="bottom-nav-item" data-nav-section="quiz">
             <!-- Using a question mark icon for quiz -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>
            <span data-lang-key="navQuiz">æµ‹éªŒ</span>
        </a>
        <a href="#pro-tips" class="bottom-nav-item" data-nav-section="pro-tips">
            <svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>
            <span data-lang-key="navProTips">ç§˜ç±</span>
        </a>
    </nav>

    <!-- Modal -->
    <div id="fish-modal" class="modal-backdrop fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden z-50">
        <div class="modal-content bg-[var(--bg-secondary)] rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto transform scale-95">
            <div class="sticky top-0 bg-[var(--bg-secondary)] p-4 border-b border-[var(--border-color)] flex justify-between items-center z-10">
                 <h3 id="modal-title" class="text-2xl font-bold text-[var(--text-primary)]"></h3>
                 <button id="close-modal" class="text-gray-400 hover:text-white text-3xl font-bold">&times;</button>
            </div>
            <div id="modal-body" class="p-6 text-[var(--text-secondary)] space-y-4">
                <!-- Modal content injected by JS -->
            </div>
        </div>
    </div>

    <script>
        (function() { // IIFE to encapsulate the script
            const translations = {
                en: {
                    sidebarTitle: "ğŸ£ Fishing Guide",
                    navHome: "Home",
                    navScience: "Science",
                    navProTips: "Pro Tips",
                    navQuiz: "Quiz",
                    homeTitle: "Welcome to Your \"Hook & Cook\" Adventure!",
                    homeIntro: "\"Hook & Cook\" fisheries offer a unique experience: catch fish with your own hands, then immediately enjoy freshly cooked catches at the on-site restaurant. This is not just the joy of fishing, but a perfect blend of sport, nature, and gastronomy. This guide will take you deep into the mysteries of fish biology, from understanding fish senses to scientifically choosing baits, helping you grow from a casual angler into an \"angling scientist\" with a profound understanding of aquatic life. Ready to start your adventure?",
                    rippleHint: "Tap the background for a surprise!",
                    whatIsHookCookTitle: "What is a \"Hook & Cook\" Fishery?",
                    uniqueExperienceTitle: "Unique Leisure Experience",
                    uniqueExperienceText: "These fisheries are venues specifically designed for recreational fishing, often converted from disused fish farms or purpose-built ponds, aiming to provide a unique leisure experience. Here, visitors can enjoy the thrill of fishing and choose to have their caught fish prepared by the on-site restaurant, offering a one-stop \"catch-to-cook\" service, providing an ideal fishing environment for families and beginners.",
                    typicalEnvironmentTitle: "Typical Fishery Environment",
                    typicalEnvironmentText: "Many \"Hook & Cook\" fishing ponds in Malaysia are typically freshwater environments, surrounded by natural scenery, offering a tranquil recreational experience. Some ponds may also offer brackish water environments, where fish species like Barramundi and Snapper are reared. These places are usually well-equipped with facilities such as restaurants, tackle shops, and comfortable fishing huts.",
                    fishSpeciesTitle: "Meet the Fish: Common Residents of Malaysian Fisheries",
                    fishSpeciesIntro: "Malaysian recreational fisheries host a diverse range of fish species. Understanding their biological characteristics is crucial for successful angling. Click on the cards below to view detailed profiles for each fish.",
                    fishComparisonTitle: "Fish Characteristics Comparison",
                    fishComparisonIntro: "Compare key characteristics of different fish species visually using this radar chart.",
                    fishComparisonSubtitle: "Scale from 1 (center) to 5 (edge). Hover over points for details.", // New
                    chartLabelDiet: "Diet", // New
                    chartLabelFight: "Fight", // New
                    chartLabelHabitat: "Habitat", // New
                    chartValues: { // New
                        diet: ["", "Herbivore", "Omnivore (Plant-leaning)", "Omnivore", "Omnivore (Meat-leaning)", "Carnivore"],
                        fight: ["", "Weak", "Mild", "Moderate", "Strong", "Very Strong"],
                        habitat: ["", "Bottom", "Low-Mid", "Mid-water", "Mid-Top", "Surface"]
                    },
                    scale: { low: "Low", mid: "Mid", high: "High" }, // New
                    tabVision: "ğŸ‘ï¸ Vision: Underwater Eyes",
                    tabChemo: "ğŸ‘ƒ Taste & Smell",
                    tabLateral: "ã€°ï¸ Lateral Line: Sixth Sense",
                    scienceTitle: "The Science of Fishing: Unraveling Fish Feeding Behavior",
                    scienceIntro: "Fish possess highly developed sensory systems. Understanding how they perceive the world will allow you to choose the most effective strategies and baits like a true scientist.",
                    baitRecommenderTitle: "Interactive Bait Recommender",
                    baitRecommenderIntro: "Not sure what bait to use? Select your target fish species, and let me recommend the perfect bait for you!",
                    selectFishPrompt: "Please select a fish first...",
                    baitRecPrompt: "Recommended Baits:", // New
                    quizTitle: "Knowledge Quiz: Test Your Angling Smarts!",
                    quizIntro: "Let's see how much you've learned about fish biology and responsible angling. Good luck!",
                    submitQuiz: "Submit Quiz",
                    yourScore: "Your Score:",
                    answerAllQuestions: "Please answer all questions before submitting.",
                    proTipsTitle: "Pro Tips: Becoming a Responsible Angler",
                    proTipsIntro: "Angling is not just about skill, but also responsibility. Follow these tips to enjoy the fun while protecting our precious aquatic resources.",
                    onSiteProcessTitle: "ğŸ“ On-site Process & What to Bring",
                    suggestedProcessTitle: "Suggested Process",
                    process1: "Register at the counter, state it's your first time, and you can rent fishing rods.",
                    process2: "Inform staff you have children; they will arrange a suitable pond.",
                    process3: "Fish for 1â€“2 hours (bait can be refilled if used up).",
                    process4: "If you want to eat your catch, the kitchen can cook it for you (or pack it).",
                    whatToBringTitle: "Suggested Items to Bring",
                    bring1: "Sun hat / Umbrella (if weather is hot or showery).",
                    bring2: "Mosquito repellent.",
                    bring3: "Power bank (for photos + navigation).",
                    catchReleaseTitle: "ğŸ’š \"Catch & Release\" Best Practices",
                    releaseIntro: "If you choose to release, follow these steps to ensure the fish returns to the water healthy.",
                    reduceAirExposureStrong: "Reduce Air Exposure:",
                    reduceAirExposureText: "Try to keep the fish out of water for 10 seconds or less. Fish need water for oxygen!",
                    wetHandsStrong: "Wet Hands:",
                    wetHandsText: "Always wet your hands before touching the fish to protect its protective slime coat.",
                    properSupportStrong: "Proper Support:",
                    properSupportText: "Support the fish's body horizontally with both hands when taking it out of the water. Never hold it by its gills or jaw.",
                    quickUnhookStrong: "Quick Unhooking:",
                    quickUnhookText: "Barbless hooks and dehooking tools are recommended. If deep-hooked, cutting the line is often better.",
                    gentleReleaseStrong: "Gentle Release:",
                    gentleReleaseText: "Gently place the fish headfirst into the water, allowing water to flow over its gills.",
                    environmentalResponsibilityTitle: "ğŸŒ Angler's Environmental Responsibility",
                    environmentalResponsibilityText1: "Developing \"angler ethics\" is a vital part of conservation efforts. By adopting best practices, even in farmed ponds, we can contribute to the health and resilience of fish populations. This fosters a sense of stewardship and responsibility, transforming a hobby into an active form of environmental conservation.",
                    environmentalResponsibilityText2: "You can even become a \"citizen scientist\"! By reporting your catches, sizes, and other observations, you can help managers better understand the health of the pond's fish. You are not just a participant, but a contributor to scientific and conservation efforts!",
                },
                zh: {
                    sidebarTitle: "ğŸ£ é’“é±¼æŒ‡å—",
                    navHome: "é¦–é¡µ",
                    navScience: "ç§‘å­¦",
                    navProTips: "ç§˜ç±",
                    navQuiz: "æµ‹éªŒ",
                    homeTitle: "æ¬¢è¿æ¥åˆ°â€œé’“è·çƒ¹é¥ªâ€æ¢é™©ä¹‹æ—…ï¼",
                    homeIntro: "â€œé’“è·çƒ¹é¥ªâ€(Hook & Cook) æ¸”åœºæä¾›äº†ä¸€ç§ç‹¬ç‰¹çš„ä½“éªŒï¼šäº²æ‰‹é’“èµ·é±¼ï¼Œç„¶åç«‹å³åœ¨ç°åœºé¤å…äº«ç”¨æ–°é²œçƒ¹åˆ¶çš„æ¸”è·ã€‚è¿™ä¸ä»…æ˜¯å‚é’“çš„ä¹è¶£ï¼Œæ›´æ˜¯è¿åŠ¨ã€è‡ªç„¶ä¸ç¾é£Ÿçš„å®Œç¾ç»“åˆã€‚æœ¬æŒ‡å—å°†å¸¦ä½ æ·±å…¥æ¢ç´¢é±¼ç±»ç”Ÿç‰©å­¦çš„å¥¥ç§˜ï¼Œä»äº†è§£é±¼çš„æ„Ÿå®˜åˆ°ç§‘å­¦é€‰æ‹©é¥µæ–™ï¼Œè®©ä½ ä»æ™®é€šå‚é’“è€…æˆé•¿ä¸ºä¸€åå¯¹æ°´ç”Ÿç”Ÿç‰©æœ‰æ·±å…¥ç†è§£çš„â€œå‚é’“ç§‘å­¦å®¶â€ã€‚å‡†å¤‡å¥½å¼€å§‹ä½ çš„æ¢é™©äº†å—ï¼Ÿ",
                    rippleHint: "è½»ç‚¹èƒŒæ™¯ï¼Œæœ‰æƒŠå–œï¼",
                    whatIsHookCookTitle: "ä»€ä¹ˆæ˜¯â€œé’“è·çƒ¹é¥ªâ€æ¸”åœºï¼Ÿ",
                    uniqueExperienceTitle: "ç‹¬ç‰¹çš„ä¼‘é—²ä½“éªŒ",
                    uniqueExperienceText: "è¿™äº›æ¸”åœºæ˜¯ä¸“ä¸ºä¼‘é—²å‚é’“è®¾è®¡çš„åœºæ‰€ï¼Œé€šå¸¸ç”±åºŸå¼ƒçš„å…»é±¼åœºæ”¹é€ æˆ–ä¸“é—¨å»ºé€ ã€‚åœ¨è¿™é‡Œï¼Œæ¸¸å®¢å¯ä»¥ä½“éªŒå‚é’“çš„ä¹è¶£ï¼Œå¹¶å°†æ¸”è·äº¤ç»™é¤å…çƒ¹é¥ªï¼Œå®ç°â€œä»é’“åˆ°åƒâ€çš„ä¸€ç«™å¼æœåŠ¡ï¼Œä¸ºå®¶åº­å’Œåˆå­¦è€…æä¾›äº†ç†æƒ³çš„å‚é’“ç¯å¢ƒã€‚",
                    typicalEnvironmentTitle: "å…¸å‹çš„æ¸”åœºç¯å¢ƒ",
                    typicalEnvironmentText: "é©¬æ¥è¥¿äºšçš„â€œé’“è·çƒ¹é¥ªâ€æ¸”åœºå¤šä¸ºæ·¡æ°´ç¯å¢ƒï¼Œé£å…‰ç§€ä¸½ï¼Œå®é™å®œäººã€‚éƒ¨åˆ†æ¸”åœºä¹Ÿæä¾›å’¸æ·¡æ°´ç¯å¢ƒï¼Œé¥²å…»ç€å°–å»é²ˆã€çŸ³æ–‘é±¼ç­‰é±¼ç±»ã€‚è¿™äº›åœ°æ–¹é€šå¸¸è®¾æ–½å®Œå–„ï¼Œé…æœ‰é¤å…ã€æ¸”å…·åº—å’Œèˆ’é€‚çš„å‚é’“å°å±‹ã€‚",
                    fishSpeciesTitle: "è®¤è¯†é±¼å„¿ï¼šé©¬æ¥è¥¿äºšæ¸”åœºå¸¸è§å±…æ°‘",
                    fishSpeciesIntro: "é©¬æ¥è¥¿äºšçš„ä¼‘é—²æ¸”åœºæ‹¥æœ‰å¤šç§é±¼ç±»ã€‚äº†è§£å®ƒä»¬çš„ç”Ÿç‰©ç‰¹æ€§æ˜¯æˆåŠŸå‚é’“çš„å…³é”®ã€‚ç‚¹å‡»ä¸‹æ–¹çš„å¡ç‰‡ï¼ŒæŸ¥çœ‹æ¯ç§é±¼çš„è¯¦ç»†æ¡£æ¡ˆã€‚",
                    fishComparisonTitle: "é±¼ç±»ç‰¹æ€§å¯¹æ¯”",
                    fishComparisonIntro: "é€šè¿‡è¿™ä¸ªé›·è¾¾å›¾ï¼Œç›´è§‚åœ°æ¯”è¾ƒä¸åŒé±¼ç±»çš„å…³é”®ç‰¹æ€§ã€‚",
                    fishComparisonSubtitle: "æ•°å€¼ä»1ï¼ˆä¸­å¿ƒï¼‰åˆ°5ï¼ˆè¾¹ç¼˜ï¼‰ã€‚æ‚¬åœåœ¨æ•°æ®ç‚¹ä¸Šå¯æŸ¥çœ‹è¯¦æƒ…ã€‚", // New
                    chartLabelDiet: "é£Ÿæ€§", // New
                    chartLabelFight: "ææ–—åŠ›", // New
                    chartLabelHabitat: "æ –æ¯å±‚", // New
                    chartValues: { // New
                        diet: ["", "è‰é£Ÿæ€§", "æ‚é£Ÿæ€§ (åæ¤ç‰©)", "æ‚é£Ÿæ€§", "æ‚é£Ÿæ€§ (åè‚‰é£Ÿ)", "è‚‰é£Ÿæ€§"],
                        fight: ["", "å¼±", "è¾ƒå¼±", "ä¸­ç­‰", "å¼º", "éå¸¸å¼º"],
                        habitat: ["", "åº•å±‚", "ä¸­ä¸‹å±‚", "ä¸­å±‚", "ä¸­ä¸Šå±‚", "ä¸Šå±‚"]
                    },
                    scale: { low: "ä½", mid: "ä¸­", high: "é«˜" }, // New
                    tabVision: "ğŸ‘ï¸ è§†è§‰ï¼šæ°´ä¸‹ä¹‹çœ¼",
                    tabChemo: "ğŸ‘ƒ å‘³è§‰ä¸å—…è§‰",
                    tabLateral: "ã€°ï¸ ä¾§çº¿ï¼šç¬¬å…­æ„Ÿ",
                    scienceTitle: "ç§‘å­¦é’“æ³•ï¼šè§£å¯†é±¼å„¿çš„è§…é£Ÿè¡Œä¸º",
                    scienceIntro: "é±¼ç±»æ‹¥æœ‰é«˜åº¦å‘è¾¾çš„æ„Ÿå®˜ç³»ç»Ÿã€‚äº†è§£å®ƒä»¬å¦‚ä½•æ„ŸçŸ¥ä¸–ç•Œï¼Œä½ å°±èƒ½åƒç§‘å­¦å®¶ä¸€æ ·é€‰æ‹©æœ€æœ‰æ•ˆçš„ç­–ç•¥å’Œé¥µæ–™ã€‚",
                    baitRecommenderTitle: "äº’åŠ¨å¼é¥µæ–™æ¨èå™¨",
                    baitRecommenderIntro: "ä¸çŸ¥é“ç”¨ä»€ä¹ˆé¥µæ–™ï¼Ÿé€‰æ‹©ä½ æƒ³è¦é’“çš„ç›®æ ‡é±¼ç§ï¼Œè®©æˆ‘æ¥ä¸ºä½ æ¨èï¼",
                    selectFishPrompt: "è¯·å…ˆé€‰æ‹©ä¸€ç§é±¼...",
                    baitRecPrompt: "æ¨èé±¼é¥µï¼š", // New
                    quizTitle: "çŸ¥è¯†æµ‹éªŒï¼šè€ƒéªŒä½ çš„å‚é’“æ™ºæ…§ï¼",
                    quizIntro: "è®©æˆ‘ä»¬çœ‹çœ‹ä½ å­¦åˆ°äº†å¤šå°‘é±¼ç±»ç”Ÿç‰©å­¦å’Œè´Ÿè´£ä»»å‚é’“çš„çŸ¥è¯†ã€‚ç¥ä½ å¥½è¿ï¼",
                    submitQuiz: "æäº¤æµ‹éªŒ",
                    yourScore: "ä½ çš„å¾—åˆ†ï¼š",
                    answerAllQuestions: "æäº¤å‰è¯·å›ç­”æ‰€æœ‰é—®é¢˜ã€‚",
                    proTipsTitle: "é«˜æ‰‹ç§˜ç±ï¼šæˆä¸ºè´Ÿè´£ä»»çš„å‚é’“è€…",
                    proTipsIntro: "å‚é’“ä¸ä»…æ˜¯æŠ€å·§ï¼Œæ›´æ˜¯ä¸€ä»½è´£ä»»ã€‚éµå¾ªè¿™äº›å»ºè®®ï¼Œäº«å—ä¹è¶£çš„åŒæ—¶ï¼Œä¹Ÿä¿æŠ¤æˆ‘ä»¬çè´µçš„æ°´ç”Ÿèµ„æºã€‚",
                    onSiteProcessTitle: "ğŸ“ ç°åœºæµç¨‹ä¸å»ºè®®æºå¸¦",
                    suggestedProcessTitle: "å»ºè®®æµç¨‹",
                    process1: "åˆ°å‰å°ç™»è®°ï¼Œè¯´æ˜æ˜¯åˆæ¬¡ä½“éªŒï¼Œå¯ç§Ÿç”¨é’“ç«¿ã€‚",
                    process2: "å‘Šè¯‰å·¥ä½œäººå‘˜æœ‰å°å­©ï¼Œä»–ä»¬ä¼šå®‰æ’é€‚åˆçš„æ°´æ± ã€‚",
                    process3: "é’“é±¼1â€“2å°æ—¶ï¼ˆé±¼é¥µç”¨å®Œå¯ç»­ä¹°ï¼‰ã€‚",
                    process4: "é’“åˆ°çš„é±¼è‹¥æƒ³åƒï¼Œå¯è¯·å¨æˆ¿ä»£ä¸ºçƒ¹é¥ªï¼ˆæˆ–æ‰“åŒ…ï¼‰ã€‚",
                    whatToBringTitle: "å»ºè®®æºå¸¦",
                    bring1: "é˜²æ™’å¸½ / é›¨ä¼ï¼ˆè‹¥å¤©æ°”ç‚çƒ­æˆ–é˜µé›¨ï¼‰ã€‚",
                    bring2: "é©±èšŠæ¶²ã€‚",
                    bring3: "æ‰‹æœºå……ç”µå®ï¼ˆæ‹ç…§ + å¯¼èˆªï¼‰ã€‚",
                    catchReleaseTitle: "ğŸ’š â€œé’“åæ”¾æµâ€æœ€ä½³å®è·µ",
                    releaseIntro: "å¦‚æœä½ é€‰æ‹©æ”¾æµï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼Œä»¥ç¡®ä¿é±¼å„¿èƒ½å¥åº·åœ°å›åˆ°æ°´ä¸­ã€‚",
                    reduceAirExposureStrong: "å‡å°‘ç©ºæ°”æš´éœ²ï¼š",
                    reduceAirExposureText: "å°½é‡å°†é±¼ç¦»å¼€æ°´é¢çš„æ—¶é—´æ§åˆ¶åœ¨10ç§’å†…ã€‚é±¼é æ°´è·å–æ°§æ°”ï¼",
                    wetHandsStrong: "æ¹¿æ‰‹æ“ä½œï¼š",
                    wetHandsText: "æ¥è§¦é±¼å‰åŠ¡å¿…å¼„æ¹¿åŒæ‰‹ï¼Œä¿æŠ¤é±¼ä½“è¡¨çš„ä¿æŠ¤æ€§é»æ¶²ã€‚",
                    properSupportStrong: "æ­£ç¡®æ”¯æ’‘ï¼š",
                    properSupportText: "ç”¨åŒæ‰‹æ°´å¹³æ”¯æ’‘é±¼çš„èº«ä½“ï¼Œåˆ‡å‹¿æŠ“å…¶é³ƒæˆ–ä¸‹é¢šã€‚",
                    quickUnhookStrong: "å¿«é€Ÿæ‘˜é’©ï¼š",
                    quickUnhookText: "æ¨èä½¿ç”¨æ— å€’åˆºé’©å’Œæ‘˜é’©å·¥å…·ã€‚å¦‚æœé’©å¾—å¤ªæ·±ï¼Œå‰ªæ–­é±¼çº¿æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚",
                    gentleReleaseStrong: "æ¸©æŸ”æ”¾æµï¼š",
                    gentleReleaseText: "å°†é±¼å¤´æœå‰è½»è½»æ”¾å…¥æ°´ä¸­ï¼Œè®©æ°´æµè¿‡å®ƒçš„é³ƒã€‚",
                    environmentalResponsibilityTitle: "ğŸŒ å‚é’“è€…çš„ç¯ä¿è´£ä»»",
                    environmentalResponsibilityText1: "å‘å±•â€œå‚é’“è€…é“å¾·â€æ˜¯ä¿æŠ¤å·¥ä½œçš„é‡è¦éƒ¨åˆ†ã€‚é€šè¿‡é‡‡çº³æœ€ä½³å®è·µï¼Œå³ä½¿åœ¨å…»æ®–æ± å¡˜ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ä¸ºé±¼ç±»ç§ç¾¤çš„å¥åº·å’Œæ¢å¤åŠ›åšå‡ºè´¡çŒ®ã€‚è¿™åŸ¹å…»äº†ä¸€ç§ç®¡ç†å’Œè´£ä»»æ„Ÿï¼Œå°†ä¸€é¡¹çˆ±å¥½è½¬å˜ä¸ºç§¯æçš„ç¯å¢ƒä¿æŠ¤å½¢å¼ã€‚",
                    environmentalResponsibilityText2: "ä½ ç”šè‡³å¯ä»¥æˆä¸ºä¸€åâ€œå…¬æ°‘ç§‘å­¦å®¶â€ï¼é€šè¿‡æŠ¥å‘Šä½ çš„æ¸”è·ã€å°ºå¯¸ç­‰è§‚å¯Ÿç»“æœï¼Œå¯ä»¥å¸®åŠ©ç®¡ç†äººå‘˜æ›´å¥½åœ°äº†è§£é±¼å¡˜çš„å¥åº·çŠ¶å†µã€‚ä½ ä¸ä»…ä»…æ˜¯å‚ä¸è€…ï¼Œæ›´æ˜¯ç§‘å­¦å’Œä¿æŠ¤å·¥ä½œçš„è´¡çŒ®è€…ï¼",
                },
                ml: {
                    sidebarTitle: "ğŸ£ Panduan Memancing",
                    navHome: "Utama",
                    navScience: "Sains",
                    navProTips: "Petua",
                    navQuiz: "Kuiz",
                    homeTitle: "Selamat Datang ke Pengembaraan \"Hook & Cook\" Anda!",
                    homeIntro: "Kolam pancing \"Hook & Cook\" menawarkan pengalaman unik: tangkap ikan dengan tangan sendiri, kemudian nikmati hasil tangkapan yang baru dimasak di restoran di lokasi. Ini bukan sahaja kegembiraan memancing, tetapi gabungan sempurna antara sukan, alam semula jadi, dan gastronomi. Panduan ini akan membawa anda menyelami misteri biologi ikan, daripada memahami deria ikan hingga memilih umpan secara saintifik, membantu anda berkembang daripada pemancing biasa menjadi \"saintis memancing\" dengan pemahaman mendalam tentang hidupan akuatik. Bersedia untuk memulakan pengembaraan anda?",
                    rippleHint: "Ketik latar belakang untuk kejutan!",
                    whatIsHookCookTitle: "Apa itu Kolam Pancing \"Hook & Cook\"?",
                    uniqueExperienceTitle: "Pengalaman Santai Unik",
                    uniqueExperienceText: "Tempat memancing ini direka khas untuk memancing rekreasi, sering diubah suai daripada ladang ikan yang tidak digunakan atau kolam yang dibina khas, bertujuan untuk menyediakan pengalaman rekreasi yang unik. Di sini, pengunjung boleh menikmati keseronokan memancing dan memilih untuk memasak ikan yang ditangkap oleh restoran di lokasi, menawarkan perkhidmatan \"tangkap-masak\" sehenti, menyediakan persekitaran memancing yang ideal untuk keluarga dan pemula.",
                    typicalEnvironmentTitle: "Persekitaran Kolam Pancing Biasa",
                    typicalEnvironmentText: "Banyak kolam pancing \"Hook & Cook\" di Malaysia biasanya adalah persekitaran air tawar, dikelilingi oleh pemandangan semula jadi, menawarkan pengalaman rekreasi yang tenang. Sesetengah kolam mungkin juga menawarkan persekitaran air payau, di mana spesies ikan seperti Siakap dan Kakap Merah diternak. Tempat-tempat ini biasanya dilengkapi dengan kemudahan seperti restoran, kedai peralatan memancing, dan pondok memancing yang selesa.",
                    fishSpeciesTitle: "Kenali Ikan: Penduduk Biasa Kolam Pancing Malaysia",
                    fishSpeciesIntro: "Kolam pancing rekreasi Malaysia menempatkan pelbagai spesies ikan. Memahami ciri-ciri biologi mereka adalah penting untuk strategi memancing yang berjaya. Klik pada kad di bawah untuk melihat profil terperinci setiap ikan.",
                    fishComparisonTitle: "Perbandingan Ciri-ciri Ikan",
                    fishComparisonIntro: "Bandingkan ciri-ciri utama spesies ikan yang berbeza secara visual menggunakan carta radar ini.",
                    fishComparisonSubtitle: "Skala dari 1 (tengah) hingga 5 (tepi). Tuding pada titik untuk butiran.", // New
                    chartLabelDiet: "Diet", // New
                    chartLabelFight: "Daya Lawan", // New
                    chartLabelHabitat: "Habitat", // New
                    chartValues: { // New
                        diet: ["", "Herbivor", "Omnivor (cenderung tumbuhan)", "Omnivor", "Omnivor (cenderung daging)", "Karnivor"],
                        fight: ["", "Lemah", "Sederhana Lemah", "Sederhana", "Kuat", "Sangat Kuat"],
                        habitat: ["", "Dasar", "Pertengahan Bawah", "Pertengahan Air", "Pertengahan Atas", "Permukaan"]
                    },
                    scale: { low: "Rendah", mid: "Sederhana", high: "Tinggi" }, // New
                    tabVision: "ğŸ‘ï¸ Penglihatan: Mata Bawah Air",
                    tabChemo: "ğŸ‘ƒ Rasa & Bau",
                    tabLateral: "ã€°ï¸ Garis Lateral: Deria Keenam",
                    scienceTitle: "Sains Memancing: Membongkar Tingkah Laku Pemakanan Ikan",
                    scienceIntro: "Ikan mempunyai sistem deria yang sangat maju. Memahami bagaimana mereka melihat dunia akan membolehkan anda memilih strategi dan umpan yang paling berkesan seperti saintis sebenar.",
                    baitRecommenderTitle: "Pencadang Umpan Interaktif",
                    baitRecommenderIntro: "Tidak pasti umpan apa yang hendak digunakan? Pilih spesies ikan sasaran anda, dan biarkan saya mengesyorkan umpan yang sempurna untuk anda!",
                    selectFishPrompt: "Sila pilih ikan dahulu...",
                    baitRecPrompt: "Umpan Disyorkan:", // New
                    quizTitle: "Kuiz Pengetahuan: Uji Kepintaran Memancing Anda!",
                    quizIntro: "Mari kita lihat berapa banyak yang telah anda pelajari tentang biologi ikan dan memancing yang bertanggungjawab. Semoga berjaya!",
                    submitQuiz: "Hantar Kuiz",
                    yourScore: "Skor Anda:",
                    answerAllQuestions: "Sila jawab semua soalan sebelum menghantar.",
                    proTipsTitle: "Petua Pro: Menjadi Pemancing yang Bertanggungjawab",
                    proTipsIntro: "Memancing bukan sahaja tentang kemahiran, tetapi juga tanggungjawab. Ikuti petua ini untuk menikmati keseronokan sambil melindungi sumber akuatik kita yang berharga.",
                    onSiteProcessTitle: "ğŸ“ Proses di Lokasi & Apa yang Perlu Dibawa",
                    suggestedProcessTitle: "Proses yang Disyorkan",
                    process1: "Daftar di kaunter, nyatakan ini kali pertama anda, dan anda boleh menyewa joran.",
                    process2: "Maklumkan kakitangan anda mempunyai anak; mereka akan mengatur kolam yang sesuai.",
                    process3: "Memancing selama 1â€“2 jam (umpan boleh diisi semula jika habis).",
                    process4: "Jika anda ingin makan hasil tangkapan anda, dapur boleh memasaknya untuk anda (atau bungkus).",
                    whatToBringTitle: "Barang yang Disyorkan untuk Dibawa",
                    bring1: "Topi matahari / Payung (jika cuaca panas atau hujan renyai).",
                    bring2: "Penghalau nyamuk.",
                    bring3: "Power bank (untuk foto + navigasi).",
                    catchReleaseTitle: "ğŸ’š Amalan Terbaik \"Tangkap & Lepas\"",
                    releaseIntro: "Jika anda memilih untuk melepaskan, ikuti langkah-langkah ini untuk memastikan ikan kembali ke air dengan sihat.",
                    reduceAirExposureStrong: "Kurangkan Pendedahan Udara:",
                    reduceAirExposureText: "Cuba pastikan ikan keluar dari air untuk 10 saat atau kurang. Ikan memerlukan air untuk oksigen!",
                    wetHandsStrong: "Tangan Basah:",
                    wetHandsText: "Sentiasa basahkan tangan anda sebelum menyentuh ikan untuk melindungi lapisan lendir pelindungnya.",
                    properSupportStrong: "Sokongan yang Betul:",
                    properSupportText: "Sokong berat badan ikan secara mendatar dengan kedua-dua tangan apabila mengeluarkannya dari air. Jangan sekali-kali memegang ikan pada rahang, insang, atau matanya.",
                    quickUnhookStrong: "Cepat Tanggalkan Mata Kail:",
                    quickUnhookText: "Mata kail tanpa duri dan alat menanggalkan mata kail disyorkan. Jika mata kail tertelan dalam, memotong tali pancing selalunya lebih baik.",
                    gentleReleaseStrong: "Lepaskan dengan Lembut:",
                    gentleReleaseText: "Lepaskan ikan perlahan-lahan ke dalam air dengan kepala dahulu, membenarkan air mengalir melalui mulut dan insangnya.",
                    environmentalResponsibilityTitle: "ğŸŒ Tanggunggungjawab Alam Sekitar Pemancing",
                    environmentalResponsibilityText1: "Membangunkan \"etika pemancing\" adalah bahagian penting dalam usaha pemuliharaan. Dengan mengamalkan amalan terbaik, walaupun di kolam ternakan, kita boleh menyumbang kepada kesihatan dan daya tahan populasi ikan. Ini memupuk rasa tanggungjawab dan penjagaan, mengubah hobi menjadi bentuk pemuliharaan alam sekitar yang aktif.",
                    environmentalResponsibilityText2: "Anda juga boleh menjadi \"saintis warganara\"! Dengan melaporkan tangkapan, saiz, and pemerhatian lain anda, Anda boleh membantu pengurus memahami dengan lebih baik kesihatan dan trend populasi ikan di kolam. Anda bukan sahaja peserta, tetapi penyumbang kepada pemahaman saintifik dan usaha pemuliharaan!",
                }
            };

            let currentLanguage = 'en';

            const fishData = {
                pacu: {
                    imageUrl: "https://raw.githubusercontent.com/luoxisg/fishing/main/image/pacu.jpg",
                    chartData: { diet: 2, fight: 3, habitat: 3 }, // 1=Herb,5=Carn | 1=Weak,5=Strong | 1=Bottom,5=Top
                    name: { en: "Pacu", zh: "å·¨è„‚é²¤ (Pacu)", ml: "Pacu" },
                    description: {
                        en: "Native to South America, despite being related to piranhas, they are generally docile. Their flattened body is adapted for movement among aquatic plants.",
                        zh: "åŸäº§äºå—ç¾æ´²ï¼Œå°½ç®¡ä¸é£Ÿäººé±¼æœ‰äº²ç¼˜å…³ç³»ï¼Œä½†æ€§æƒ…æ¸©å’Œã€‚èº«ä½“æ‰å¹³ï¼Œé€‚åˆåœ¨æ°´ç”Ÿæ¤ç‰©é—´ç©¿æ¢­ã€‚",
                        ml: "Berasal dari Amerika Selatan, walaupun berkaitan dengan piranha, mereka umumnya jinak. Bentuk badan mereka yang rata disesuaikan untuk bergerak di antara tumbuhan akuatik."
                    },
                    details: {
                        en: `<p><strong class="text-[var(--text-primary)]">Scientific Classification:</strong> Family Serrasalmidae. Common genera include *Colossoma* and *Piaractus*.</p><p><strong class="text-[var(--text-primary)]">Habitat and Behavior:</strong> Prefer rivers, lakes, and floodplains. In ponds, they can grow very large, weighing over 5kg. Generally docile and non-aggressive.</p><p><strong class="text-[var(--text-primary)]">Diet and Feeding Habits:</strong> Primarily omnivorous, but prefer plant matter, especially fruits, seeds, and nuts. Their strong crushing system is specialized for processing plant-based foods.</p>`,
                        zh: `<p><strong class="text-[var(--text-primary)]">ç§‘å­¦åˆ†ç±»ï¼š</strong> é”¯è„‚é²¤ç§‘ã€‚å¸¸è§å±åŒ…æ‹¬ *Colossoma* å’Œ *Piaractus*ã€‚</p><p><strong class="text-[var(--text-primary)]">æ –æ¯åœ°ä¸è¡Œä¸ºï¼š</strong> å–œæ¬¢æ²³æµã€æ¹–æ³Šå’Œæ´ªæ³›åŒºã€‚åœ¨æ± å¡˜ä¸­ï¼Œå®ƒä»¬å¯ä»¥é•¿åˆ°å¾ˆå¤§ï¼Œä½“é‡å¯è¾¾5å…¬æ–¤ä»¥ä¸Šã€‚æ€§æƒ…æ¸©å’Œï¼Œä¸å…·æ”»å‡»æ€§ã€‚</p><p><strong class="text-[var(--text-primary)]">é£Ÿæ€§ä¸æ‘„é£Ÿä¹ æƒ¯ï¼š</strong> ä¸»è¦ä¸ºæ‚é£Ÿæ€§ï¼Œä½†åçˆ±æ¤ç‰©ï¼Œç‰¹åˆ«æ˜¯æ°´æœã€ç§å­å’Œåšæœã€‚å®ƒä»¬å¼ºå¤§çš„å’€åš¼ç³»ç»Ÿä¸“é—¨ç”¨äºå¤„ç†æ¤ç‰©æ€§é£Ÿç‰©ã€‚</p>`,
                        ml: `<p><strong class="text-[var(--text-primary)]">Klasifikasi Saintifik:</strong> Famili Serrasalmidae. Genus biasa termasuk *Colossoma* dan *Piaractus*.</p><p><strong class="text-[var(--text-primary)]">Habitat dan Tingkah Laku:</strong> Lebih suka sungai, tasik, dan dataran banjir. Di kolam, mereka boleh membesar sehingga lebih 5kg. Umumnya jinak dan tidak agresif.</p><p><strong class="text-[var(--text-primary)]">Diet dan Tabiat Pemakanan:</strong> Terutamanya omnivor, tetapi lebih suka bahan tumbuhan, terutamanya buah-buahan, biji-bijian, dan kacang. Sistem rahang penghancur mereka khusus untuk memproses makanan berasaskan tumbuhan.</p>`
                    },
                    baits: {
                        en: ["Fruits", "Dough Balls", "Plant-based baits"],
                        zh: ["æ°´æœ", "é¢å›¢çƒ", "æ¤ç‰©æ€§é¥µæ–™"],
                        ml: ["Buah-buahan", "Bola Doh", "Umpan berasaskan tumbuhan"]
                    }
                },
                tilapia: {
                    imageUrl: "https://raw.githubusercontent.com/luoxisg/fishing/main/image/tilapia.jpg",
                    chartData: { diet: 1, fight: 1, habitat: 4 },
                    name: { en: "Tilapia", zh: "ç½—éé±¼ (Tilapia)", ml: "Tilapia" },
                    description: {
                        en: "Native to Africa, very hardy and easily domesticated, a common species in aquaculture.",
                        zh: "åŸäº§äºéæ´²ï¼Œç”Ÿå‘½åŠ›é¡½å¼ºï¼Œæ˜“äºé©¯åŒ–ï¼Œæ˜¯æ°´äº§å…»æ®–çš„å¸¸è§é±¼ç§ã€‚",
                        ml: "Berasal dari Afrika, sangat tahan lasak dan mudah dijinakkan, spesies biasa dalam akuakultur."
                    },
                    details: {
                        en: `<p><strong class="text-[var(--text-primary)]">Scientific Classification:</strong> Genus *Oreochromis*, e.g., Nile Tilapia.</p><p><strong class="text-[var(--text-primary)]">Habitat and Behavior:</strong> Inhabit shallow streams, ponds, rivers, and lakes. Considered one of the world's most invasive alien species due to widespread introduction.</p><p><strong class="text-[var(--text-primary)]">Diet and Feeding Habits:</strong> Mainly herbivorous, feeding on plankton, algae, and other plant matter. May also prey on worms and small fish when young.</p>`,
                        zh: `<p><strong class="text-[var(--text-primary)]">ç§‘å­¦åˆ†ç±»ï¼š</strong> å£å­µéé²«å±ï¼Œä¾‹å¦‚å°¼ç½—ç½—éé±¼ã€‚</p><p><strong class="text-[var(--text-primary)]">æ –æ¯åœ°ä¸è¡Œä¸ºï¼š</strong> æ –æ¯äºæµ…æºªã€æ± å¡˜ã€æ²³æµå’Œæ¹–æ³Šã€‚å› å…¶å¹¿æ³›å¼•å…¥è€Œè¢«è§†ä¸ºå…¨çƒæœ€å…·ä¾µç•¥æ€§çš„å¤–æ¥ç‰©ç§ä¹‹ä¸€ã€‚</p><p><strong class="text-[var(--text-primary)]">é£Ÿæ€§ä¸æ‘„é£Ÿä¹ æƒ¯ï¼š</strong> ä¸»è¦æ˜¯è‰é£Ÿæ€§ï¼Œä»¥æµ®æ¸¸ç”Ÿç‰©ã€è—»ç±»å’Œå…¶ä»–æ¤ç‰©ä¸ºé£Ÿã€‚å¹¼å¹´æ—¶ä¹Ÿå¯èƒ½æ•é£Ÿè •è™«å’Œå°é±¼ã€‚</p>`,
                        ml: `<p><strong class="text-[var(--text-primary)]">Klasifikasi Saintifik:</strong> Genus *Oreochromis*, cth., Tilapia Nil.</p><p><strong class="text-[var(--text-primary)]">Habitat dan Tingkah Laku:</strong> Mendiami sungai cetek, kolam, sungai, dan tasik. Dianggap sebagai salah satu spesies asing paling invasif di dunia kerana pengenalan meluas.</p><p><strong class="text-[var(--text-primary)]">Diet dan Tabiat Pemakanan:</strong> Terutamanya herbivor, memakan plankton, alga, dan bahan tumbuhan lain. Mungkin juga memakan cacing dan ikan kecil apabila muda.</p>`
                    },
                    baits: {
                        en: ["Dough Balls", "Algae baits", "Plant-based baits"],
                        zh: ["é¢å›¢çƒ", "è—»ç±»é¥µæ–™", "æ¤ç‰©æ€§é¥µæ–™"],
                        ml: ["Bola Doh", "Umpan alga", "Umpan berasaskan tumbuhan"]
                    }
                },
                catfish: {
                    imageUrl: "https://raw.githubusercontent.com/luoxisg/fishing/main/image/Catfish.jpg",
                    chartData: { diet: 5, fight: 5, habitat: 1 },
                    name: { en: "Catfish", zh: "é²¶é±¼ (Catfish)", ml: "Ikan Keli" },
                    description: {
                        en: "Typically predatory fish with voracious appetites, strong fighters when hooked, and highly interested in strong odors.",
                        zh: "é€šå¸¸æ˜¯æ•é£Ÿæ€§é±¼ç±»ï¼Œé£Ÿæ¬²æ—ºç››ï¼Œä¸Šé’©åææ–—åŠ›å¼ºåŠ²ï¼Œå¯¹å¼ºçƒˆæ°”å‘³ææ„Ÿå…´è¶£ã€‚",
                        ml: "Biasanya ikan pemangsa dengan selera makan yang rakus, pejuang yang kuat apabila terpancing, dan sangat tertarik kepada bau yang kuat."
                    },
                    details: {
                        en: `<p><strong class="text-[var(--text-primary)]">Scientific Classification:</strong> Order Siluriformes. Common species include Boal Catfish and Striped Catfish. Redtail and Mekong Catfish are also common.</p><p><strong class="text-[var(--text-primary)]">Habitat and Behavior:</strong> Live in deep waters and bottoms of lakes and rivers. Known for their strong fight.</p><p><strong class="text-[var(--text-primary)]">Diet and Feeding Habits:</strong> Predatory fish, mainly feeding on other fish. Have voracious appetites and show great interest in strong odors (e.g., chicken liver).</p>`,
                        zh: `<p><strong class="text-[var(--text-primary)]">ç§‘å­¦åˆ†ç±»ï¼š</strong> é²¶å½¢ç›®ã€‚å¸¸è§ç§ç±»åŒ…æ‹¬åšå°”é²¶é±¼å’Œæ¡çº¹é²¶é±¼ã€‚çº¢å°¾é²¶å’Œæ¹„å…¬é²¶ä¹Ÿå¾ˆå¸¸è§ã€‚</p><p><strong class="text-[var(--text-primary)]">æ –æ¯åœ°ä¸è¡Œä¸ºï¼š</strong> ç”Ÿæ´»åœ¨æ¹–æ³Šå’Œæ²³æµçš„æ·±æ°´åŒºå’Œåº•éƒ¨ã€‚ä»¥å…¶å¼ºåŠ²çš„ææ–—è€Œé—»åã€‚</p><p><strong class="text-[var(--text-primary)]">é£Ÿæ€§ä¸æ‘„é£Ÿä¹ æƒ¯ï¼š</strong> æ•é£Ÿæ€§é±¼ç±»ï¼Œä¸»è¦ä»¥å…¶ä»–é±¼ç±»ä¸ºé£Ÿã€‚é£Ÿæ¬²æ—ºç››ï¼Œå¯¹å¼ºçƒˆæ°”å‘³ï¼ˆå¦‚é¸¡è‚ï¼‰è¡¨ç°å‡ºæå¤§å…´è¶£ã€‚</p>`,
                        ml: `<p><strong class="text-[var(--text-primary)]">Klasifikasi Saintifik:</strong> Order Siluriformes. Spesies biasa termasuk Ikan Keli Boal dan Ikan Keli Berjalur. Ikan Keli Ekor Merah dan Ikan Keli Mekong juga biasa.</p><p><strong class="text-[var(--text-primary)]">Habitat dan Tingkah Laku:</strong> Hidup di perairan dalam dan dasar tasik dan sungai. Terkenal dengan pertarungan yang kuat.</p><p><strong class="text-[var(--text-primary)]">Diet dan Tabiat Pemakanan:</strong> Pemangsa oportunistik. Juvenil memakan krustasea, dewasa hampir sepenuhnya memakan ikan. Mereka makan dengan menghisap dan menelan mangsa secara keseluruhan.</p>`
                    },
                    baits: {
                        en: ["Chicken Liver", "Cut Fish", "Worms", "Stink Dough Balls"],
                        zh: ["é¸¡è‚", "åˆ‡å—é±¼è‚‰", "è •è™«", "è‡­å‘³é¢å›¢çƒ"],
                        ml: ["Hati Ayam", "Potongan Ikan", "Cacing", "Bola Doh Berbau"]
                    }
                },
                barramundi: {
                    imageUrl: "https://raw.githubusercontent.com/luoxisg/fishing/main/image/Barramundi.jpg",
                    chartData: { diet: 5, fight: 4, habitat: 2 },
                    name: { en: "Barramundi", zh: "å°–å»é²ˆ (Barramundi)", ml: "Siakap" },
                    description: {
                        en: "Opportunistic predators, spending most of their lives in freshwater but migrating to saltwater to breed. Prefer to hide under cover.",
                        zh: "æœºä¼šä¸»ä¹‰æ•é£Ÿè€…ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ç”Ÿæ´»åœ¨æ·¡æ°´ä¸­ï¼Œä½†ä¼šæ´„æ¸¸åˆ°å’¸æ°´ç¹æ®–ã€‚å–œæ¬¢èº²è—åœ¨é®è”½ç‰©ä¸‹ã€‚",
                        ml: "Pemangsa oportunistik, menghabiskan sebahagian besar hidup mereka di air tawar tetapi berhijrah ke air masin untuk membiak. Lebih suka bersembunyi di bawah perlindungan."
                    },
                    details: {
                        en: `<p><strong class="text-[var(--text-primary)]">Scientific Classification:</strong> Genus *Lates*, species *Lates calcarifer*.</p><p><strong class="text-[var(--text-primary)]">Habitat and Behavior:</strong> Adaptable to wide salinity changes, prefer to hide under logs or other objects. May school in feeding aggregations.</p><p><strong class="text-[var(--text-primary)]">Diet and Feeding Habits:</strong> Opportunistic predators. Juveniles eat crustaceans, adults feed almost entirely on fish. They suction feed and swallow prey whole.</p>`,
                        zh: `<p><strong class="text-[var(--text-primary)]">ç§‘å­¦åˆ†ç±»ï¼š</strong> å°–å»é²ˆå±ï¼Œå­¦å *Lates calcarifer*ã€‚</p><p><strong class="text-[var(--text-primary)]">æ –æ¯åœ°ä¸è¡Œä¸ºï¼š</strong> èƒ½é€‚åº”å¹¿æ³›çš„ç›åº¦å˜åŒ–ï¼Œå–œæ¬¢èº²è—åœ¨åŸæœ¨æˆ–å…¶ä»–ç‰©ä½“ä¸‹æ–¹ã€‚æ•é£Ÿæ—¶å¯èƒ½ä¼šæˆç¾¤ç»“é˜Ÿã€‚</p><p><strong class="text-[var(--text-primary)]">é£Ÿæ€§ä¸æ‘„é£Ÿä¹ æƒ¯ï¼š</strong> æœºä¼šä¸»ä¹‰æ•é£Ÿè€…ã€‚å¹¼é±¼åƒç”²å£³ç±»ï¼Œæˆé±¼å‡ ä¹å®Œå…¨ä»¥é±¼ç±»ä¸ºé£Ÿã€‚å®ƒä»¬é€šè¿‡å¸é£Ÿçš„æ–¹å¼å°†é£Ÿç‰©æ•´åã€‚</p>`,
                        ml: `<p><strong class="text-[var(--text-primary)]">Klasifikasi Saintifik:</strong> Genus *Lates*, spesies *Lates calcarifer*.</p><p><strong class="text-[var(--text-primary)]">Habitat dan Tingkah Laku:</strong> Boleh menyesuaikan diri dengan perubahan kemasinan yang luas, lebih suka bersembunyi di bawah balak atau objek lain. Mungkin berkumpul dalam agregasi pemakanan.</p><p><strong class="text-[var(--text-primary)]">Diet dan Tabiat Pemakanan:</strong> Pemangsa oportunistik. Juvenil memakan krustasea, dewasa hampir sepenuhnya memakan ikan. Mereka makan dengan menghisap dan menelan mangsa secara keseluruhan.</p>`
                    },
                    baits: {
                        en: ["Cut Fish", "Live Shrimp", "Lures mimicking small fish"],
                        zh: ["åˆ‡å—é±¼è‚‰", "æ´»è™¾", "æ¨¡ä»¿å°é±¼çš„æ‹Ÿé¥µ"],
                        ml: ["Potongan Ikan", "Udang Hidup", "Umpan tiruan ikan kecil"]
                    }
                },
                snapper: {
                    imageUrl: "https://raw.githubusercontent.com/luoxisg/fishing/main/image/Snapper.jpg",
                    chartData: { diet: 4, fight: 3, habitat: 1 },
                    name: { en: "Snapper", zh: "ç¬›é²· (Snapper)", ml: "Kakap Merah" },
                    description: {
                        en: "Demersal predatory fish with a broad diet, an important cultured fish in Malaysia.",
                        zh: "åº•æ –æ•é£Ÿæ€§é±¼ç±»ï¼Œé£Ÿè°±å¹¿æ³›ï¼Œæ˜¯é©¬æ¥è¥¿äºšé‡è¦çš„å…»æ®–é±¼ç±»ã€‚",
                        ml: "Ikan pemangsa demersal dengan diet yang luas, ikan ternakan penting di Malaysia."
                    },
                    details: {
                        en: `<p><strong class="text-[var(--text-primary)]">Scientific Classification:</strong> Family Lutjanidae. Common species include John's Snapper and Mangrove Red Snapper.</p><p><strong class="text-[var(--text-primary)]">Habitat and Behavior:</strong> Juveniles live in estuaries, adults prefer coral reefs and rocky areas but also forage in sandy areas.</p><p><strong class="text-[var(--text-primary)]">Diet and Feeding Habits:</strong> Demersal predators, mainly feeding on crabs, shrimp, fish, and other invertebrates.</p>`,
                        zh: `<p><strong class="text-[var(--text-primary)]">ç§‘å­¦åˆ†ç±»ï¼š</strong> ç¬›é²·ç§‘ã€‚å¸¸è§ç§ç±»åŒ…æ‹¬çº¦ç¿°æ°ç¬›é²·å’Œçº¢æ ‘æ—çº¢ç¬›é²·ã€‚</p><p><strong class="text-[var(--text-primary)]">æ –æ¯åœ°ä¸è¡Œä¸ºï¼š</strong> å¹¼é±¼ç”Ÿæ´»åœ¨æ²³å£ï¼Œæˆé±¼åçˆ±çŠç‘šç¤å’Œå²©çŸ³åŒºï¼Œä½†ä¹Ÿä¼šåˆ°æ²™è´¨åŒºåŸŸè§…é£Ÿã€‚</p><p><strong class="text-[var(--text-primary)]">é£Ÿæ€§ä¸æ‘„é£Ÿä¹ æƒ¯ï¼š</strong> åº•æ –æ•é£Ÿè€…ï¼Œä¸»è¦ä»¥èƒèŸ¹ã€è™¾ã€é±¼ç±»å’Œå…¶ä»–æ— è„Šæ¤åŠ¨ç‰©ä¸ºé£Ÿã€‚</p>`,
                        ml: `<p><strong class="text-[var(--text-primary)]">Klasifikasi Saintifik:</strong> Famili Lutjanidae. Spesies biasa termasuk Kakap Merah John dan Kakap Merah Bakau.</p><p><strong class="text-[var(--text-primary)]">Habitat dan Tingkah Laku:</strong> Juvenil hidup di muara, dewasa lebih suka terumbu karang dan kawasan berbatu tetapi juga mencari makan di kawasan berpasir. </p><p><strong class="text-[var(--text-primary)]">Diet dan Tabiat Pemakanan:</strong> Pemangsa demersal, terutamanya memakan ketam, udang, ikan, dan invertebrata motil lain.</p>`
                    },
                    baits: {
                        en: ["Shrimp", "Crabs", "Cut Fish", "Squid"],
                        zh: ["è™¾", "èƒèŸ¹", "åˆ‡å—é±¼è‚‰", "é±¿é±¼"],
                        ml: ["Udang", "Ketam", "Potongan Ikan", "Sotong"]
                    }
                }
            };

            const scienceContent = {
                vision: {
                    content: {
                        en: `<p class="mb-4">Fish eyes are adapted to the underwater environment with rounder lenses, which help them focus correctly in water. However, water absorbs light, especially red and orange light. This means that in deep or murky water, a bright red lure might appear black!</p><p><strong>Application:</strong> In clear, shallow water, realistic colors are effective. But in deep or murky water, <strong>high-contrast</strong> colors (like black and white, bright yellow) or reflective colors (like silver) are more important than specific colors, as they are more easily seen by fish.</p>`,
                        zh: `<p class="mb-4">é±¼çœ¼ä¸ºäº†é€‚åº”æ°´ä¸‹ç¯å¢ƒï¼Œæ™¶çŠ¶ä½“æ›´åœ†ï¼Œè¿™å¸®åŠ©å®ƒä»¬åœ¨æ°´ä¸­æ­£ç¡®èšç„¦ã€‚ä½†æ°´ä¼šå¸æ”¶å…‰çº¿ï¼Œå°¤å…¶æ˜¯çº¢è‰²å’Œæ©™è‰²å…‰ã€‚è¿™æ„å‘³ç€åœ¨æ·±æ°´æˆ–æµ‘æµŠçš„æ°´ä¸­ï¼Œä¸€ä¸ªé²œçº¢è‰²çš„æ‹Ÿé¥µå¯èƒ½çœ‹èµ·æ¥æ˜¯é»‘è‰²ï¼</p><p><strong>åº”ç”¨ï¼š</strong> åœ¨æ¸…æ¾ˆçš„æµ…æ°´ï¼Œé€¼çœŸçš„é¢œè‰²æœ‰æ•ˆã€‚ä½†åœ¨æ·±æ°´æˆ–æµ‘æµŠçš„æ°´ä¸­ï¼Œ<strong>é«˜å¯¹æ¯”åº¦</strong>çš„é¢œè‰²ï¼ˆå¦‚é»‘ç™½ã€äº®é»„ï¼‰æˆ–èƒ½åå…‰çš„é¢œè‰²ï¼ˆå¦‚é“¶è‰²ï¼‰æ¯”ç‰¹å®šé¢œè‰²æ›´é‡è¦ï¼Œå› ä¸ºå®ƒä»¬æ›´å®¹æ˜“è¢«é±¼çœ‹åˆ°ã€‚</p>`,
                        ml: `<p class="mb-4">Mata ikan disesuaikan dengan persekitaran bawah air dengan kanta yang lebih bulat, yang membantu mereka fokus dengan betul di dalam air. Walau bagaimanapun, air menyerap cahaya, terutamanya cahaya merah dan oren. Ini bermakna di perairan dalam atau keruh, umpan merah terang mungkin kelihatan hitam!</p><p><strong>Aplikasi:</strong> Di perairan cetek yang jernih, warna realistik berkesan. Tetapi di perairan dalam atau keruh, warna <strong>kontras tinggi</strong> (seperti hitam dan putih, kuning terang) atau warna reflektif (seperti perak) lebih penting daripada warna tertentu, kerana ia lebih mudah dilihat oleh ikan.</p>`
                    }
                },
                chemo: {
                    content: {
                        en: `<p class="mb-4">Fish have extremely sensitive senses of smell and taste, capable of detecting minute quantities of chemicals dissolved in water (like amino acids). Their taste buds are not only in their mouths but also spread across their bodies (especially on catfish barbels)! This means they can "taste" anything they touch.</p><p><strong>Application:</strong> The <strong>scent</strong> of bait is crucial. Natural baits (like chicken liver, cut fish) release strong chemical signals that are highly attractive to fish. This is why "stink baits" designed for catfish are so effective. Some artificial lures are also impregnated with chemical attractants to enhance their appeal.</p>`,
                        zh: `<p class="mb-4">é±¼ç±»çš„å—…è§‰å’Œå‘³è§‰æå…¶çµæ•ï¼Œå¯ä»¥æ¢æµ‹åˆ°æº¶è§£åœ¨æ°´é‡Œæå¾®é‡çš„åŒ–å­¦ç‰©è´¨ï¼ˆå¦‚æ°¨åŸºé…¸ï¼‰ã€‚å®ƒä»¬çš„å‘³è•¾ä¸ä»…åœ¨å˜´é‡Œï¼Œç”šè‡³éå¸ƒå…¨èº«ï¼ˆç‰¹åˆ«æ˜¯é²¶é±¼çš„è§¦é¡»ä¸Šï¼‰ï¼è¿™æ„å‘³ç€å®ƒä»¬èƒ½â€œå°åˆ°â€ä»»ä½•æ¥è§¦åˆ°çš„ä¸œè¥¿ã€‚</p><p><strong>åº”ç”¨ï¼š</strong> é¥µæ–™çš„<strong>æ°”å‘³</strong>è‡³å…³é‡è¦ã€‚å¤©ç„¶é¥µæ–™ï¼ˆå¦‚é¸¡è‚ã€é±¼å—ï¼‰ä¼šé‡Šæ”¾å¼ºçƒˆçš„åŒ–å­¦ä¿¡å·ï¼Œå¯¹é±¼æœ‰è‡´å‘½çš„å¸å¼•åŠ›ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸ºé²¶é±¼è®¾è®¡çš„â€œè‡­é¥µâ€å¦‚æ­¤æœ‰æ•ˆã€‚ä¸€äº›äººå·¥æ‹Ÿé¥µä¹Ÿä¼šæ³¨å…¥åŒ–å­¦è¯±é£Ÿå‰‚æ¥å¢å¼ºæ•ˆæœã€‚</p>`,
                        ml: `<p class="mb-4">Ikan mempunyai deria bau dan rasa yang sangat sensitif, mampu mengesan kuantiti bahan kimia yang sangat kecil yang larut dalam air (seperti asid amino). Tunas rasa mereka bukan sahaja di mulut tetapi juga tersebar di seluruh badan mereka (terutamanya pada misai ikan keli)! Ini bermakna mereka boleh \"merasa\" apa sahaja yang mereka sentuh.</p><p><strong>Aplikasi:</strong> <strong>Bau</strong> umpan adalah penting. Umpan semula jadi (seperti hati ayam, potongan ikan) mengeluarkan isyarat kimia yang kuat yang sangat menarik kepada ikan. Inilah sebabnya mengapa \"umpan busuk\" yang direka untuk ikan keli sangat berkesan. Sesetengah umpan tiruan juga disuntik dengan penarik kimia untuk meningkatkan daya tarikan mereka.</p>`
                    }
                },
                lateral: {
                    content: {
                        en: `<p class="mb-4">The lateral line system is a series of sensory organs along the sides of a fish's body that detects vibrations and pressure changes in the water. This is the fish's "sixth sense," allowing them to perceive prey, obstacles, or predators even when they cannot see clearly.</p><p><strong>Application:</strong> The <strong>action</strong> of a lure and the <strong>vibrations</strong> it creates in the water are as important as color and scent. Lures that mimic the vibrations of a struggling baitfish or swimming insect can effectively trigger a predatory response, especially in murky water or during night fishing.</p>`,
                        zh: `<p class="mb-4">ä¾§çº¿æ˜¯é±¼èº«ä½“ä¸¤ä¾§çš„ä¸€æ’æ„Ÿè§‰å™¨å®˜ï¼Œèƒ½æ¢æµ‹åˆ°æ°´ä¸­çš„æŒ¯åŠ¨å’Œå‹åŠ›å˜åŒ–ã€‚è¿™æ˜¯é±¼çš„â€œç¬¬å…­æ„Ÿâ€ï¼Œè®©å®ƒä»¬åœ¨çœ‹ä¸æ¸…çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ„ŸçŸ¥åˆ°çŒç‰©ã€éšœç¢ç‰©æˆ–æ•é£Ÿè€…ã€‚</p><p><strong>åº”ç”¨ï¼š</strong> æ‹Ÿé¥µçš„<strong>åŠ¨ä½œ</strong>å’Œå®ƒåœ¨æ°´ä¸­äº§ç”Ÿçš„<strong>æŒ¯åŠ¨</strong>ï¼Œå…¶é‡è¦æ€§ä¸äºšäºé¢œè‰²å’Œæ°”å‘³ã€‚èƒ½æ¨¡ä»¿å—ä¼¤å°é±¼æŒ£æ‰æˆ–æ˜†è™«æ¸¸åŠ¨æ‰€äº§ç”ŸæŒ¯åŠ¨çš„æ‹Ÿé¥µï¼Œèƒ½æœ‰æ•ˆè§¦å‘é±¼çš„æ”»å‡»æ¬²æœ›ï¼Œå°¤å…¶æ˜¯åœ¨æµ‘æ°´æˆ–å¤œé’“æ—¶ã€‚</p>`,
                        ml: `<p class="mb-4">Sistem garis lateral adalah satu siri organ deria di sepanjang sisi badan ikan yang mengesan getaran dan perubahan tekanan dalam air. Ini adalah \"deria keenam\" ikan, membolehkan mereka mengesan mangsa, halangan, atau pemangsa walaupun mereka tidak dapat melihat dengan jelas.</p><p><strong>Aplikasi:</strong> <strong>Tindakan</strong> umpan dan <strong>getaran</strong> yang dihasilkannya di dalam air adalah sama penting dengan warna dan bau. Umpan yang meniru getaran ikan umpan yang bergelut atau serangga berenang boleh mencetuskan tindak balas pemangsa dengan berkesan, terutamanya di perairan keruh atau semasa memancing malam.</p>`
                    }
                }
            };

            const quizQuestions = [
                {
                    id: 1,
                    question: {
                        en: "Which fish sense is primarily used for detecting vibrations and pressure changes in the water?",
                        zh: "é±¼ç±»å“ªç§æ„Ÿå®˜ä¸»è¦ç”¨äºæ¢æµ‹æ°´ä¸­çš„æŒ¯åŠ¨å’Œå‹åŠ›å˜åŒ–ï¼Ÿ",
                        ml: "Deria ikan manakah yang terutamanya digunakan untuk mengesan getaran dan perubahan tekanan dalam air?"
                    },
                    options: {
                        en: ["Vision", "Taste", "Lateral Line", "Smell"],
                        zh: ["è§†è§‰", "å‘³è§‰", "ä¾§çº¿", "å—…è§‰"],
                        ml: ["Penglihatan", "Rasa", "Garis Lateral", "Bau"]
                    },
                    correctAnswer: 2 // Index of Lateral Line
                },
                {
                    id: 2,
                    question: {
                        en: "Which type of bait would generally be most effective for a highly carnivorous fish like a Catfish, based on its strong sense of smell?",
                        zh: "æ ¹æ®é²¶é±¼æ•é”çš„å—…è§‰ï¼Œå“ªç§é¥µæ–™é€šå¸¸å¯¹å…¶æœ€æœ‰æ•ˆï¼Ÿ",
                        ml: "Berdasarkan deria bau yang kuat ikan Keli, umpan jenis manakah yang secara amnya paling berkesan untuk ikan karnivor seperti ikan Keli?"
                    },
                    options: {
                        en: ["Fruits", "Dough Balls", "Chicken Liver", "Algae"],
                        zh: ["æ°´æœ", "é¢å›¢çƒ", "é¸¡è‚", "è—»ç±»"],
                        ml: ["Buah-buahan", "Bola Doh", "Hati Ayam", "Alga"]
                    },
                    correctAnswer: 2 // Index of Chicken Liver
                },
                {
                    id: 3,
                    question: {
                        en: "When practicing 'Catch & Release', what is the maximum recommended time a fish should be kept out of water?",
                        zh: "åœ¨å®è·µâ€œé’“åæ”¾æµâ€æ—¶ï¼Œå»ºè®®é±¼ç¦»å¼€æ°´é¢çš„æœ€é•¿æ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ",
                        ml: "Apabila mengamalkan 'Tangkap & Lepas', apakah masa maksimum yang disyorkan untuk ikan berada di luar air?"
                    },
                    options: {
                        en: ["30 seconds", "1 minute", "10 seconds", "As long as needed for a photo"],
                        zh: ["30ç§’", "1åˆ†é’Ÿ", "10ç§’", "æ‹ç…§éœ€è¦å¤šé•¿æ—¶é—´å°±å¤šä¹…"],
                        ml: ["30 saat", "1 minit", "10 saat", "Selagi diperlukan untuk bergambar"]
                    },
                    correctAnswer: 2 // Index of 10 seconds
                },
                {
                    id: 4,
                    question: {
                        en: "Which fish is primarily herbivorous and often considered an invasive species in many parts of the world?",
                        zh: "å“ªç§é±¼ç±»ä¸»è¦æ˜¯è‰é£Ÿæ€§ï¼Œåœ¨ä¸–ç•Œè®¸å¤šåœ°æ–¹å¸¸è¢«è§†ä¸ºå…¥ä¾µç‰©ç§ï¼Ÿ",
                        ml: "Ikan manakah yang terutamanya herbivor dan sering dianggap sebagai spesies invasif di banyak bahagian dunia?"
                    },
                    options: {
                        en: ["Barramundi", "Tilapia", "Snapper", "Catfish"],
                        zh: ["å°–å»é²ˆ", "ç½—éé±¼", "ç¬›é²·", "é²¶é±¼"],
                        ml: ["Siakap", "Tilapia", "Kakap Merah", "Ikan Keli"]
                    },
                    correctAnswer: 1 // Index of Tilapia
                }
            ];

            const sections = document.querySelectorAll('.content-section');
            const navLinks = document.querySelectorAll('.nav-link'); // Desktop nav links
            const bottomNavItems = document.querySelectorAll('.bottom-nav-item'); // Mobile bottom nav items
            const languageSwitcherButtonsDesktop = document.querySelectorAll('#language-switcher-desktop .lang-button');
            const languageSwitcherButtonsMobile = document.querySelectorAll('#language-switcher-mobile .lang-button');

            let fishChart; // Declare chart variable globally

            // Define a set of vibrant colors for the chart datasets
            const chartDatasetColors = [
                { background: 'rgba(54, 162, 235, 0.4)', border: 'rgb(54, 162, 235)' },  // Blue
                { background: 'rgba(255, 99, 132, 0.4)', border: 'rgb(255, 99, 132)' },   // Red
                { background: 'rgba(75, 192, 192, 0.4)', border: 'rgb(75, 192, 192)' },   // Green
                { background: 'rgba(255, 206, 86, 0.4)', border: 'rgb(255, 206, 86)' },  // Yellow
                { background: 'rgba(153, 102, 255, 0.4)', border: 'rgb(153, 102, 255)' } // Purple
            ];

            function updateContent(hash) {
                hash = hash || '#home';

                sections.forEach(section => {
                    section.classList.toggle('hidden', '#' + section.id !== hash);
                });

                navLinks.forEach(link => {
                    link.classList.toggle('active', link.getAttribute('href') === hash);
                });

                bottomNavItems.forEach(item => {
                    item.classList.toggle('active', '#' + item.dataset.navSection === hash);
                });
            }

            function updateLanguage(lang) {
                currentLanguage = lang;
                document.documentElement.lang = lang;

                document.querySelectorAll('[data-lang-key]').forEach(element => {
                    const key = element.getAttribute('data-lang-key');
                    if (translations[lang] && translations[lang][key]) {
                        // For nav items, only update the span if it exists
                        const span = element.querySelector('span');
                        if (span && (element.classList.contains('bottom-nav-item') || element.classList.contains('nav-link'))) {
                             span.textContent = translations[lang][key];
                        } else {
                            element.innerHTML = translations[lang][key];
                        }
                    }
                });

                renderFishGallery();
                updateScienceContent();
                renderBaitRecommender();
                updateChart();
                renderQuiz();

                [...languageSwitcherButtonsDesktop, ...languageSwitcherButtonsMobile].forEach(button => {
                    button.classList.toggle('active', button.dataset.lang === lang);
                });
            }
            
            function initFishChart() {
                const ctx = document.getElementById('fish-chart').getContext('2d');
                const data = {
                    labels: [], // Will be populated by updateLanguage
                    datasets: Object.keys(fishData).map((key, index) => {
                        const fish = fishData[key];
                        const color = chartDatasetColors[index % chartDatasetColors.length];
                        return {
                            label: fish.name[currentLanguage],
                            data: Object.values(fish.chartData),
                            fill: true,
                            backgroundColor: color.background,
                            borderColor: color.border,
                            pointBackgroundColor: color.border,
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: color.border,
                            pointRadius: 4,
                            pointHoverRadius: 7
                        };
                    })
                };

                const options = {
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0, 0, 0, 0.15)' },
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            pointLabels: {
                                color: 'var(--text-primary-dark)',
                                font: { size: 14, weight: '600', family: 'Inter' }
                            },
                            ticks: {
                                beginAtZero: false,
                                min: 0,
                                max: 5,
                                stepSize: 1,
                                backdropColor: 'transparent',
                                color: 'rgba(0, 0, 0, 0.6)',
                                font: { size: 10, family: 'Inter' },
                                callback: function(value, index, ticks) {
                                    if (value === 1) return translations[currentLanguage].scale.low.toUpperCase();
                                    if (value === 3) return translations[currentLanguage].scale.mid.toUpperCase();
                                    if (value === 5) return translations[currentLanguage].scale.high.toUpperCase();
                                    return ''; // Hide other labels (0, 2, 4)
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: 'var(--text-primary-dark)',
                                font: { size: 12, family: 'Inter' }
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(255,255,255,0.9)',
                            titleColor: 'var(--text-primary-dark)',
                            bodyColor: 'var(--text-secondary-dark)',
                            borderColor: 'var(--border-color-light)',
                            borderWidth: 1,
                            padding: 10,
                            callbacks: {
                                label: function(context) {
                                    const dataIndex = context.dataIndex;
                                    const rawValue = context.raw;
                                    const axisLabel = context.chart.data.labels[dataIndex];
                                    let valueLabel = '';
                                    if (dataIndex === 0) valueLabel = translations[currentLanguage].chartValues.diet[rawValue];
                                    else if (dataIndex === 1) valueLabel = translations[currentLanguage].chartValues.fight[rawValue];
                                    else if (dataIndex === 2) valueLabel = translations[currentLanguage].chartValues.habitat[rawValue];
                                    return `${axisLabel}: ${valueLabel}`;
                                }
                            }
                        }
                    }
                };
                
                fishChart = new Chart(ctx, { type: 'radar', data, options });
            }

            function updateChart() {
                if (!fishChart) return;
                const lang = currentLanguage;
                fishChart.data.labels = [
                    translations[lang].chartLabelDiet,
                    translations[lang].chartLabelFight,
                    translations[lang].chartLabelHabitat
                ];
                fishChart.data.datasets.forEach((dataset, index) => {
                    const fishKey = Object.keys(fishData)[index];
                    dataset.label = fishData[fishKey].name[lang];
                });
                
                // Update scale tick labels
                fishChart.options.scales.r.ticks.callback = function(value) {
                    if (value === 1) return translations[lang].scale.low.toUpperCase();
                    if (value === 3) return translations[lang].scale.mid.toUpperCase();
                    if (value === 5) return translations[lang].scale.high.toUpperCase();
                    return '';
                };

                fishChart.update();
            }

            function renderFishGallery() {
                const gallery = document.getElementById('fish-gallery');
                gallery.innerHTML = '';
                Object.keys(fishData).forEach(key => {
                    const fish = fishData[key];
                    const card = document.createElement('div');
                    card.className = 'card rounded-lg shadow-md overflow-hidden cursor-pointer flex flex-col';
                    card.innerHTML = `
                        <div class="p-6 bg-[var(--bg-main)] text-center">
                            <img src="${fish.imageUrl}" alt="${fish.name[currentLanguage]}" class="w-40 h-40 mx-auto rounded-full object-cover mb-4 border-4 border-[var(--border-color)] transform transition-transform duration-300 hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/160x160/1A2A3A/F5F5F5?text=Fish';">
                            <h3 class="text-2xl font-bold mt-4 text-[var(--text-primary)]">${fish.name[currentLanguage]}</h3>
                        </div>
                        <div class="p-6 flex-grow">
                            <p class="text-[var(--text-secondary)]">${fish.description[currentLanguage]}</p>
                        </div>
                    `;
                    card.addEventListener('click', () => openModal(fish));
                    gallery.appendChild(card);
                });
            }
            
            function openModal(fish) {
                const modal = document.getElementById('fish-modal');
                document.getElementById('modal-title').textContent = fish.name[currentLanguage];
                document.getElementById('modal-body').innerHTML = fish.details[currentLanguage];
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }

            function closeModal() {
                const modal = document.getElementById('fish-modal');
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }

            function updateScienceContent() {
                document.querySelectorAll('.science-accordion-item').forEach(item => {
                    const header = item.querySelector('.science-accordion-header');
                    const contentDiv = item.querySelector('.science-accordion-content');
                    const tabId = header.dataset.tab;
                    contentDiv.innerHTML = scienceContent[tabId].content[currentLanguage];
                });
            }

            function renderBaitRecommender() {
                const fishSelector = document.getElementById('fish-selector');
                const originalValue = fishSelector.value;
                fishSelector.innerHTML = `<option value="">${translations[currentLanguage].selectFishPrompt}</option>`;
                Object.keys(fishData).forEach(key => {
                    const fish = fishData[key];
                    const option = document.createElement('option');
                    option.value = key;
                    option.textContent = fish.name[currentLanguage];
                    fishSelector.appendChild(option);
                });
                fishSelector.value = originalValue; // Preserve selection
                updateBaitRecommendation(); // Update text based on preserved selection
            }
            
            function updateBaitRecommendation() {
                const fishSelector = document.getElementById('fish-selector');
                const baitRecommendation = document.getElementById('bait-recommendation');
                const selectedFishKey = fishSelector.value;
                const fish = fishData[selectedFishKey];
                if (fish && fish.baits) {
                    baitRecommendation.innerHTML = `<p class="font-bold mb-2 text-[var(--text-primary)]">${translations[currentLanguage].baitRecPrompt}</p><p class="text-[var(--text-primary)]">${fish.baits[currentLanguage].join(' â€¢ ')}</p>`;
                } else {
                    baitRecommendation.innerHTML = `<p class="text-[var(--text-secondary)]">${translations[currentLanguage].selectFishPrompt}</p>`;
                }
            }

            function renderQuiz() {
                const quizQuestionsContainer = document.getElementById('quiz-questions');
                quizQuestionsContainer.innerHTML = '';
                document.getElementById('quiz-results').classList.add('hidden');
                quizQuestions.forEach((q, index) => {
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'mb-6';
                    questionDiv.innerHTML = `
                        <p class="text-lg font-semibold mb-3 text-[var(--text-primary)]">${index + 1}. ${q.question[currentLanguage]}</p>
                        <div class="space-y-2">
                            ${q.options[currentLanguage].map((option, optIndex) => `
                                <div class="quiz-option" data-question-id="${q.id}" data-option-id="${optIndex}">
                                    <span class="text-[var(--text-primary)]">${option}</span>
                                    <span class="feedback-icon text-xl"></span>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    quizQuestionsContainer.appendChild(questionDiv);
                });
                document.querySelectorAll('.quiz-option').forEach(optionDiv => {
                    optionDiv.addEventListener('click', (e) => {
                        const questionId = parseInt(e.currentTarget.dataset.questionId);
                        document.querySelectorAll(`.quiz-option[data-question-id="${questionId}"]`).forEach(sibling => {
                            sibling.classList.remove('selected');
                        });
                        e.currentTarget.classList.add('selected');
                    });
                });
            }

            function submitQuiz() {
                let score = 0;
                let allAnswered = true;
                const quizResultsDiv = document.getElementById('quiz-results');
                
                quizQuestions.forEach((q) => {
                    const selectedOption = document.querySelector(`.quiz-option[data-question-id="${q.id}"].selected`);
                    if (!selectedOption) {
                        allAnswered = false;
                        return;
                    }
                    
                    document.querySelectorAll(`.quiz-option[data-question-id="${q.id}"]`).forEach(opt => {
                        opt.classList.remove('correct', 'incorrect');
                        const icon = opt.querySelector('.feedback-icon');
                        if (icon) icon.textContent = '';
                    });

                    const selectedOptionId = parseInt(selectedOption.dataset.optionId);
                    const isCorrect = (selectedOptionId === q.correctAnswer);
                    
                    if (isCorrect) {
                        score++;
                        selectedOption.classList.add('correct');
                        selectedOption.querySelector('.feedback-icon').textContent = 'âœ”';
                    } else {
                        selectedOption.classList.add('incorrect');
                        selectedOption.querySelector('.feedback-icon').textContent = 'âœ–';
                        const correctAnswerOption = document.querySelector(`.quiz-option[data-question-id="${q.id}"][data-option-id="${q.correctAnswer}"]`);
                        if (correctAnswerOption) {
                            correctAnswerOption.classList.add('correct');
                            correctAnswerOption.querySelector('.feedback-icon').textContent = 'âœ”';
                        }
                    }
                });

                quizResultsDiv.classList.remove('hidden');
                if (!allAnswered) {
                    quizResultsDiv.innerHTML = `<p class="text-red-500">${translations[currentLanguage].answerAllQuestions}</p>`;
                    return;
                }
                quizResultsDiv.innerHTML = `<p class="text-[var(--text-primary)]">${translations[currentLanguage].yourScore} ${score} / ${quizQuestions.length}</p>`;
            }

            // --- Ripple Effect for Mobile (Simulating Fishing) ---
            function createRipple(event) {
                // Only run on mobile viewports
                if (!window.matchMedia("(max-width: 767px)").matches) return;

                // Define tags that should not trigger the ripple
                const nonRippleTags = ['BUTTON', 'A', 'INPUT', 'SELECT', 'LABEL', 'CANVAS', 'svg', 'path'];

                let targetElement = event.target;
                // Check if the tapped element or any of its parents are non-ripple elements or have specific interactive classes
                while (targetElement && targetElement !== document.body) {
                    if (nonRippleTags.includes(targetElement.tagName.toUpperCase()) ||
                        targetElement.classList.contains('quiz-option') ||
                        targetElement.classList.contains('accordion-header') ||
                        targetElement.classList.contains('science-accordion-header') ||
                        targetElement.classList.contains('modal-content') ||
                        targetElement.hasAttribute('data-nav-section')
                       ) {
                        return; // Exit if it's an interactive element
                    }
                    targetElement = targetElement.parentElement;
                }

                const ripple = document.createElement("span");
                ripple.classList.add("ripple");

                // Get touch coordinates relative to the document
                const x = event.touches[0].pageX;
                const y = event.touches[0].pageY;
                const size = 100; // Ripple size in pixels

                // Position the ripple centered on the touch point
                ripple.style.width = ripple.style.height = `${size}px`;
                ripple.style.left = `${x - size / 2}px`;
                ripple.style.top = `${y - size / 2}px`;

                document.body.appendChild(ripple);

                // Clean up the ripple element after the animation finishes
                setTimeout(() => {
                    ripple.remove();
                }, 800); // Must match the animation duration in CSS
            }

            // --- Event Listeners ---
            window.addEventListener('hashchange', () => updateContent(window.location.hash));
            [...navLinks, ...bottomNavItems].forEach(link => {
                link.addEventListener('click', (e) => {
                    const hash = e.currentTarget.getAttribute('href');
                    updateContent(hash);
                });
            });
            [...languageSwitcherButtonsDesktop, ...languageSwitcherButtonsMobile].forEach(button => {
                button.addEventListener('click', (e) => {
                    const lang = e.target.dataset.lang;
                    updateLanguage(lang);
                    localStorage.setItem('language', lang);
                });
            });
            document.getElementById('close-modal').addEventListener('click', closeModal);
            document.getElementById('fish-modal').addEventListener('click', (e) => {
                if (e.target === e.currentTarget) closeModal();
            });
            document.querySelectorAll('.science-accordion-header').forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const isActive = header.classList.contains('active');
                    document.querySelectorAll('.science-accordion-header.active').forEach(activeHeader => {
                        activeHeader.classList.remove('active');
                        activeHeader.nextElementSibling.classList.remove('expanded');
                        activeHeader.nextElementSibling.style.maxHeight = null;
                    });
                    if (!isActive) {
                        header.classList.add('active');
                        content.classList.add('expanded');
                        content.style.maxHeight = content.scrollHeight + 'px';
                    }
                });
            });
            document.getElementById('fish-selector').addEventListener('change', updateBaitRecommendation);
            document.querySelectorAll('.accordion-item .accordion-header').forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('span:last-child');
                    content.classList.toggle('expanded');
                    icon.style.transform = content.classList.contains('expanded') ? 'rotate(45deg)' : 'rotate(0deg)';
                });
            });
            document.getElementById('submit-quiz').addEventListener('click', submitQuiz);
            // Attach the event listener to the body for the ripple effect
            document.body.addEventListener('touchstart', createRipple, { passive: true });


            // --- Initial Load ---
            initFishChart();
            const initialLang = localStorage.getItem('language') || 'zh'; // Default to Chinese
            updateLanguage(initialLang);
            updateContent(window.location.hash || '#home');

        })(); // End of IIFE
    </script>
</body>
</html>
